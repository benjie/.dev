<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-rfcs docs-version-current docs-doc-page docs-doc-id-1163" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Service capabilities / error behaviors | benjie.dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://benjie.dev/rfcs/1163"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="en-GB"><meta data-rh="true" name="docsearch:language" content="en-GB"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-rfcs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-rfcs-current"><meta data-rh="true" property="twitter:title" content="Service capabilities / error behaviors | benjie.dev"><meta data-rh="true" property="og:title" content="Service capabilities / error behaviors | benjie.dev"><meta data-rh="true" name="description" content="At a glance"><meta data-rh="true" property="og:description" content="At a glance"><meta data-rh="true" property="og:image" content="https://benjie.dev/img/rfc_tracker.png"><meta data-rh="true" name="twitter:image" content="https://benjie.dev/img/rfc_tracker.png"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://benjie.dev/rfcs/1163"><link data-rh="true" rel="alternate" href="https://benjie.dev/rfcs/1163" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://benjie.dev/rfcs/1163" hreflang="x-default"><script src="https://assets.calendly.com/assets/external/widget.js"></script><link rel="stylesheet" href="/assets/css/styles.c47278a5.css">
<script src="/assets/js/runtime~main.46d410a8.js" defer="defer"></script>
<script src="/assets/js/main.c493aeee.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">benjie.dev</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rfcs/">RFCs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/book">ðŸ“ž Book a call</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rfcs/">GraphQL RFC Tracker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rfcs/activity">Activity</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/794">Stage 3: Accepted</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/rfcs/1081">Stage 2: Draft</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1081">1081: Fragment arguments/variables (syntax/validation/execution) [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1058">1058*: List coercion algorithm [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1063">1063*: Type system ordering of: object interfaces, directive arguments, input object fields, enum values [RFC2]</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/rfcs/1177">Stage 1: Proposal</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1177">1177*: Incorporate meta-fields into ExecuteCollectedFields [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rfcs/1163">1163*: Allow clients to disable error propagation via request parameter (take 2) [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1179">1179: CoerceInputValue() [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/997">997: Expand @deprecated to Objects [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1110">1110: Incremental Delivery spec draft [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1127">1127*: When `sourceStream` errors, yield a `{ errors: [...] }` response [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1059">1059*: Introduce Strict and Legacy All Variable Usages Are Allowed [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/950">950: allow unions to include interfaces and unions [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/939">939: allow unions to declare implementation of interfaces [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/907">907: Add support for directives on directives [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/509">509: Allow singular variables in list locations [RFC1]</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/MatchesDirective">Stage 0: Strawman</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/1045">Stage X: Rejected</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/823">Stage X: Superseded</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Service capabilities / error behaviors</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="at-a-glance">At a glance<a href="#at-a-glance" class="hash-link" aria-label="Direct link to At a glance" title="Direct link to At a glance">â€‹</a></h2>
<ul>
<li><strong>Identifier</strong>: #1163</li>
<li><strong>Stage</strong>: <a href="https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-1-proposal" target="_blank" rel="noopener noreferrer">RFC1: Proposal</a></li>
<li><strong>Champion</strong>: <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><strong>PR</strong>: <a href="https://github.com/graphql/graphql-spec/pull/1163" target="_blank" rel="noopener noreferrer">Service capabilities / error behaviors</a></li>
<li><strong>Related</strong>:<!-- -->
<ul>
<li><a title="SemanticNonNull type (null only on error) / RFC0" href="/rfcs/1065">#1065</a> (SemanticNonNull type (null only on error))</li>
<li><a title="Allow clients to disable error propagation via request parameter / RFCS" href="/rfcs/1153">#1153</a> (Allow clients to disable error propagation via request parameter)</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timeline">Timeline<a href="#timeline" class="hash-link" aria-label="Direct link to Timeline" title="Direct link to Timeline">â€‹</a></h2>
<ul>
<li><strong>9 commits pushed</strong> on 2025-08-29:<!-- -->
<ul>
<li><a href="https://github.com/graphql/graphql-spec/commit/df977eb74fa8474aba4c0dd9d2d0d62377da7a4c" target="_blank" rel="noopener noreferrer">Overhaul and introduce SDL syntax for service capabilities</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/b1f039c0b93c40d7d96f6eee61494be69797992f" target="_blank" rel="noopener noreferrer">Update syntax</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/b28ef2f2958c919d3bfbd561f3870351c8867ee3" target="_blank" rel="noopener noreferrer">Simplify</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/144e85446ca24d000c184360ccdee134ef17be4e" target="_blank" rel="noopener noreferrer">Update Name syntax</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/dc9315c92e8a3a42cfeaafabdd29b986fdb3029d" target="_blank" rel="noopener noreferrer">Clarification</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/6fd7239dfefe9c25686ae7bf26a2697164456540" target="_blank" rel="noopener noreferrer">Minor tweaks</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/c44a7aeac77bfe07374e855ef5f49840820b7d34" target="_blank" rel="noopener noreferrer">Clarify the interaction of onError<!-- -->:HALT<!-- --> and subscriptions</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/aef70694c0abcc4d72e93cc110e32bbeb1f40077" target="_blank" rel="noopener noreferrer">Fix grammar</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/955acd4098fc53833890415c0432d587013ff7b0" target="_blank" rel="noopener noreferrer">Spelling</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
</ul>
</li>
<li><strong>2 commits pushed</strong> on 2025-07-10:<!-- -->
<ul>
<li><a href="https://github.com/graphql/graphql-spec/commit/7ab36b81c29122dfd93a7489c88258d8b42982a9" target="_blank" rel="noopener noreferrer">Merge branch &#x27;main&#x27; into error-behavior2</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/cc50991cf1b2bc3b85c1550ee4d56c5b3aef04c7" target="_blank" rel="noopener noreferrer">Change NO_PROPAGATE to NULL</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
</ul>
</li>
<li><strong>Added to <a href="https://github.com/graphql/graphql-wg/blob/main/agendas/2025/06-Jun/05-wg-primary.md" target="_blank" rel="noopener noreferrer">2025-06-05 WG agenda</a></strong></li>
<li><strong>Commit pushed</strong>: <a href="https://github.com/graphql/graphql-spec/commit/1c3f0cd2b1ed6a97996dd750818eb88ce3139856" target="_blank" rel="noopener noreferrer">Update spec/Section 4 -- Introspection.md</a> on 2025-05-28 by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><strong>7 commits pushed</strong> on 2025-05-22:<!-- -->
<ul>
<li><a href="https://github.com/graphql/graphql-spec/commit/1f975e465405c0c6b638847eb9c83d51da945499" target="_blank" rel="noopener noreferrer">Rework capabilities</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/8c4008671a324e8769083e596c97d997782ea743" target="_blank" rel="noopener noreferrer">Use a definition</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/641a786a3eb154a36d54687c2cb39bb7c6158e2d" target="_blank" rel="noopener noreferrer">Reorder</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/026982b3188118c57faede2cfa723b2471e88090" target="_blank" rel="noopener noreferrer">Reword</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/a7c6ad5454c4476df980cfe884ab8771699732c6" target="_blank" rel="noopener noreferrer">Editorial</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/fe559ea23fd02d0f2ab08bf127fa14673d2061c9" target="_blank" rel="noopener noreferrer">More editorial</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/b5f64ae9ec60288d993913eb422dee46be4b5826" target="_blank" rel="noopener noreferrer">More editorial</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
</ul>
</li>
<li><strong>4 commits pushed</strong> on 2025-05-15:<!-- -->
<ul>
<li><a href="https://github.com/graphql/graphql-spec/commit/94446abd36edde953c33e388d06a00d43a3f03d5" target="_blank" rel="noopener noreferrer">ABORT -&gt; HALT</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/3c633556b4d60e7b61a6945a3438d2f043878ef9" target="_blank" rel="noopener noreferrer">Start speccing out the capabilities system</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/7056690be839020447178f1969e6bf9682109be2" target="_blank" rel="noopener noreferrer">Add a number of basic capabilities</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/0fa7a33f3e004730a98d2924b9f67a49ca9e8b46" target="_blank" rel="noopener noreferrer">Move default error behavior to the service</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
</ul>
</li>
<li><strong>Added to <a href="https://github.com/graphql/graphql-wg/blob/main/agendas/2025/05-May/15-wg-secondary-eu.md" target="_blank" rel="noopener noreferrer">2025-05-15 WG agenda</a></strong></li>
<li><strong>Added to <a href="https://github.com/graphql/graphql-wg/blob/main/agendas/2025/05-May/01-wg-primary.md" target="_blank" rel="noopener noreferrer">2025-05-01 WG agenda</a></strong></li>
<li><strong><a href="https://github.com/graphql/graphql-spec/pull/1163" target="_blank" rel="noopener noreferrer">Spec PR</a> created</strong> on 2025-04-30 by benjie</li>
<li><strong>3 commits pushed</strong> on 2025-04-30:<!-- -->
<ul>
<li><a href="https://github.com/graphql/graphql-spec/commit/31c90e7216d49b3f0bbf697c9630edc21369bb53" target="_blank" rel="noopener noreferrer">Detail onError request parameter</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/f4fab967d1040b8ea28e583f428cd280f7197047" target="_blank" rel="noopener noreferrer">Detail introspection changes</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
<li><a href="https://github.com/graphql/graphql-spec/commit/692d811fa7895108af0c959d473e056b327ebab5" target="_blank" rel="noopener noreferrer">Define the directive</a> by <a href="https://github.com/benjie" target="_blank" rel="noopener noreferrer">@benjie</a></li>
</ul>
</li>
</ul>
<hr>
<blockquote>
<p>This is a rewrite of</p>
<ul>
<li>#1153</li>
</ul>
<p>It is re-implemented on top of the recent editorial work (e.g. renaming <code>_field error_</code> to <code>_execution error_</code>) and also makes a significant change in that it does not requireâ€‹ <code>onError</code> to be included in the response, instead an introspection field is used to indicate:</p>
<ol>
<li>that <code>onError</code> is supported</li>
<li>what the behavior will be if <code>onError</code> is not present</li>
</ol>
<hr>
<p>Replaces:</p>
<ul>
<li>#1050</li>
<li>#1145</li>
<li>#1153</li>
</ul>
<p>GraphQL.js implementation:</p>
<ul>
<li><a href="https://github.com/graphql/graphql-js/pull/4364" target="_blank" rel="noopener noreferrer">https://github.com/graphql/graphql-js/pull/4364</a></li>
</ul>
<hr>
<p><a href="https://www.youtube.com/shorts/gYnVaZz-19A" target="_blank" rel="noopener noreferrer">Please see this 60 second video on the motivation for this PR</a> (the last few seconds of the video also covers &quot;transitional non-null&quot; which is a <a href="https://github.com/graphql/graphql-spec/pull/1065" target="_blank" rel="noopener noreferrer">separate concern</a>).</p>
<p>As agreed at the nullability working group, disabling error propagation is the future of error handling in GraphQL. Error propagation causes a number of issues, but chief among them are:</p>
<ol>
<li>It destroys useful data in the response.</li>
<li>It makes it <a href="https://github.com/graphql/nullability-wg/discussions/23" target="_blank" rel="noopener noreferrer">unsafe to store resulting data in normalized stores</a>.</li>
</ol>
<p>Clients such as Relay do not want error propagation to be a thing.</p>
<p>This has traditionally resulted in schema design best practices advising using nullable in positions where errors were expected, even if <code>null</code> was never a semantically valid value for that position. And since errors can happen everywhere, this has lead to an explosion of nullability and significant pain on the client side with developers having to do seemingly unnecessary null checks in loads of positions, or worse - unsafely bypassing the type safety.</p>
<p>The reason that GraphQL does error propagation is to keep it&#x27;s &quot;not null&quot; promise in the event that an error occurs (and is replaced with <code>null</code> due to the way GraphQL responses are structured and limitations in JSON) in a non-nullable position.</p>
<p>It doesn&#x27;t take much code on the client to prevent the client reading a <code>null</code> that relates to an error, <a href="https://www.npmjs.com/package/graphql-toe" target="_blank" rel="noopener noreferrer">graphql-toe</a> can be used with almost any JavaScript or TypeScript based GraphQL client (not Relay, but it has <code>@throwOnFieldError</code> that you can use instead) and achieves this <a href="https://bundlephobia.com/package/graphql-toe@1.0.0-rc.0" target="_blank" rel="noopener noreferrer">in 512 bytes gzipped</a> - and that&#x27;s with a focus on performance rather than bundle size.</p>
<p>This PR allows the client to take responsibility for error handling by specifying <code>onError: &quot;NULL&quot;</code> as part of the GraphQL request, and thereby turns off error propagation behavior. This is also set as the recommended default for future schemas.</p>
<p>With clients responsible for error handling, we no longer need to factor the possibility of whether something can error or not into its nullability, meaning we can use the not-null <code>!</code> to indicate all the positions in the schema for which <code>null</code> is not a semantically valid value - i.e. the underlying resource will never be a legitimate <code>null</code>.</p>
<p>The end result:</p>
<ul>
<li>true nullability indicated in schema - no more thinking about where errors are likely</li>
<li>fewer null checks on clients</li>
<li>clients can leverage their native error handling capabilities such as try/catch or <code>&lt;ErrorBoundary /&gt;</code></li>
<li>safe to store errored responses into normalized stores</li>
</ul>
<hr>
<p>I&#x27;ve also included <code>onError: &quot;HALT&quot;</code> in this proposal. We&#x27;ve discovered that there&#x27;s a small but significant classâ€‹ of clients out there, mostly ad-hoc scripts, that throw away the entire response when any error occurs. By codifying this into the spec we make it easier to implement these clients, and we allow the server to halt processing the rest of the request unnecessarily.</p>
<p>As noted by @revangen in <a href="https://github.com/graphql/graphql-spec/pull/1153#issuecomment-2810602063" target="_blank" rel="noopener noreferrer">this comment</a>:</p>
<blockquote>
<blockquote>
<p>I&#x27;ve also included onError: <del>&quot;ABORT&quot;</del> &quot;HALT&quot; in this proposal.</p>
</blockquote>
<p>Appreciate this being included. For Shopify&#x27;s public <a href="https://shopify.dev/docs/api/admin-graphql" target="_blank" rel="noopener noreferrer">Admin GraphQL API</a>, we have a mix of scenarios that result in a partial success response and only error response. Having been around for 8+ years, we are reluctant at times to change its behaviour to favour partial responses as we don&#x27;t control majority of clients. Providing clients a way to specify the server&#x27;s behaviour provides a migration path should clients care about partial responses.</p>
</blockquote>
</blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rfcs/1177"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Incorporate meta-fields into ExecuteCollectedFields</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rfcs/1179"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CoerceInputValue()</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#at-a-glance" class="table-of-contents__link toc-highlight">At a glance</a></li><li><a href="#timeline" class="table-of-contents__link toc-highlight">Timeline</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Benjie Gillam; all rights reserved. RFC pages pull content from public GitHub issues/PRs/files/etc; this content remains owned its various authors.</div></div></div></footer></div>
</body>
</html>