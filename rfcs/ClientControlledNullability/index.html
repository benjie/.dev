<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-rfcs docs-version-current docs-doc-page docs-doc-id-ClientControlledNullability" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">NOTE: this document is not being worked on at the moment, instead the Nullability WG are currently exploring an alternative solution that addresses many of the same underlying issues in a different way: [Semantic Nullability RFC](SemanticNullability.md). | benjie.dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://benjie.dev/rfcs/ClientControlledNullability"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="en-GB"><meta data-rh="true" name="docsearch:language" content="en-GB"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-rfcs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-rfcs-current"><meta data-rh="true" property="twitter:title" content="NOTE: this document is not being worked on at the moment, instead the Nullability WG are currently exploring an alternative solution that addresses many of the same underlying issues in a different way: [Semantic Nullability RFC](SemanticNullability.md). | benjie.dev"><meta data-rh="true" property="og:title" content="NOTE: this document is not being worked on at the moment, instead the Nullability WG are currently exploring an alternative solution that addresses many of the same underlying issues in a different way: [Semantic Nullability RFC](SemanticNullability.md). | benjie.dev"><meta data-rh="true" name="description" content="At a glance"><meta data-rh="true" property="og:description" content="At a glance"><meta data-rh="true" property="og:image" content="https://benjie.dev/img/rfc_tracker.png"><meta data-rh="true" name="twitter:image" content="https://benjie.dev/img/rfc_tracker.png"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://benjie.dev/rfcs/ClientControlledNullability"><link data-rh="true" rel="alternate" href="https://benjie.dev/rfcs/ClientControlledNullability" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://benjie.dev/rfcs/ClientControlledNullability" hreflang="x-default"><script src="https://assets.calendly.com/assets/external/widget.js"></script><link rel="stylesheet" href="/assets/css/styles.c47278a5.css">
<script src="/assets/js/runtime~main.c32b9944.js" defer="defer"></script>
<script src="/assets/js/main.4ff0cb84.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">benjie.dev</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rfcs/">RFCs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/book">üìû Book a call</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rfcs/">GraphQL RFC Tracker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rfcs/activity">Activity</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/525">Stage 3: Accepted</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/rfcs/793">Stage 2: Draft</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/793">793*: Default value coercion rules [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1063">1063*: Type system ordering of: object interfaces, directive arguments, input object fields, enum values [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1092">1092*: Recommend that order of unordered collections is maintained where possible [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1102">1102*: Define Data Collections used in the spec [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1081">1081: Fragment arguments/variables (syntax/validation/execution) [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/794">794: Schema Coordinates [RFC2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/955">955: Add validation rule that operation types exist [RFC2]</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/rfcs/1163">Stage 1: Proposal</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1163">1163*: Allow clients to disable error propagation via request parameter (take 2) [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1058">1058*: List coercion algorithm [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1056">1056*: Fix CoerceArgumentValues() hasValue [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1110">1110: Incremental Delivery spec draft [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1127">1127*: When `sourceStream` errors, yield a `{ errors: [...] }` response [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/997">997: Expand @deprecated to Objects [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1059">1059*: Introduce Strict and Legacy All Variable Usages Are Allowed [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/950">950: allow unions to include interfaces and unions [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/939">939: allow unions to declare implementation of interfaces [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/907">907: Add support for directives on directives [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/892">892: Add descriptions to executable definitions [RFC1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/509">509: Allow singular variables in list locations [RFC1]</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/rfcs/SemanticNullability">Stage 0: Strawman</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/SemanticNullability">SemanticNullability: Semantic Nullability [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1166">1166*: Enable &#x27;schema&#x27; keyword to be provided without root operations [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1165">1165*: Add Transitional Non-Null appendix (`@noPropagate` directive) [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/FieldExtensions">FieldExtensions: Field Extensions [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1065">1065*: SemanticNonNull type (null only on error) [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1700">wg1700: Lee&#x27;s new nullability &amp; error propagation proposal [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/DisableErrorPropagationDirective">DisableErrorPropagationDirective: Disable Error Propagation Directive [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1050">1050*: Directive proposal for opting out of null bubbling [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rfcs/ClientControlledNullability">ClientControlledNullability: Client Controlled Nullability [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1114">1114: add __directive meta field parallel to __type [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1057">1057*: Fix coercion table for list [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/DeferStream">DeferStream: GraphQL Defer and Stream Directives [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/SchemaCoordinates">SchemaCoordinates: Schema Coordinates [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/InputUnion">InputUnion: GraphQL Input Union [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/FeatureDiscovery">FeatureDiscovery: Feature Discovery [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/Struct">Struct: Polymorphic-capable composite symmetric input/output type (`struct`) [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1049">1049: Introduce SourceSchemaDocument and FullSchemaDocument [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1410">wg1410: Strict Semantic Nullability [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1394">wg1394: True Nullability Schema [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1045">1045*: Remove fragmentSpreadName from visitedFragments when visit is complete [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/FullSchemas">FullSchemas: Full Schemas [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/1015">1015: &quot;Root&quot; Types clarity ‚Üí &quot;Operation Type&quot; [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/FragmentArguments">FragmentArguments: Fragment Arguments [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1239">wg1239: Fragment Arguments: RFC + Implementation Details [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/998">998: add spec edits for references [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/OptInFeatures">OptInFeatures: Opt-in features [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/ExpandingSubtyping">ExpandingSubtyping: Expanding Subtyping (for output types) [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/AnnotationStructs">AnnotationStructs: Annotation Structs [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/MetadataStructs">MetadataStructs: Metadata Structs [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1096">wg1096: &quot;Metadata Directives&quot; Proposal [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/CompositeSchemas">CompositeSchemas: GraphQL Composite Schemas [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg1071">wg1071*: Struct type [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/673">673: Servers must preserve lexical ordering between SDL and introspection [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/948">948*: OneOf Objects [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg944">wg944: New Intersection Type [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg857">wg857: Fragment Modularity [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/FragmentModularity">FragmentModularity: Fragment Modularity [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/wg815">wg815: Nested GraphQL Mutations [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/ImplicitInheritance">ImplicitInheritance: Implicit Inheritance [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/OperationExpressions">OperationExpressions: Operation Expressions [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/SchemaFragments">SchemaFragments: Schema Fragments [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/879">879: __fulfilled meta field [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/Subscriptions">Subscriptions: NOTE: this document is kept for historic purposes; GraphQL Subscriptions have been specified and released as part of the official [June 2018 GraphQL Specification](https://spec.graphql.org/June2018/). [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/710">710: Add namedType and punctuatedName to __Type [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/706">706: Add support for directives for an object field name [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/674">674: allow empty selections [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/631">631: Make root query operation type optional [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/567">567: allow directives on directive definitions [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/556">556: Document Directives [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/521">521: Scalar serialize as built-in scalar type [RFC0]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rfcs/325">325: Add &quot;Any&quot; scalar type [RFC0]</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rfcs/1091">Stage X: Rejected</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>NOTE: this document is not being worked on at the moment, instead the Nullability WG are currently exploring an alternative solution that addresses many of the same underlying issues in a different way: [Semantic Nullability RFC](SemanticNullability.md).</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="at-a-glance">At a glance<a href="#at-a-glance" class="hash-link" aria-label="Direct link to At a glance" title="Direct link to At a glance">‚Äã</a></h2>
<ul>
<li><strong>Identifier</strong>: ClientControlledNullability</li>
<li><strong>Stage</strong>: <a href="https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-0-strawman" target="_blank" rel="noopener noreferrer">RFC0: Strawman</a></li>
<li><strong>Champion</strong>: -</li>
<li><strong>PR</strong>: -</li>
<li><strong>Related</strong>:<!-- -->
<ul>
<li><a title="Client Controlled Nullability / RFCX" href="/rfcs/895">#895</a> (Client Controlled Nullability)</li>
<li><a title="Fragment Modularity / RFC0" href="/rfcs/FragmentModularity">FragmentModularity</a> (Fragment Modularity)</li>
<li><a title="True Nullability Schema / RFC0" href="/rfcs/wg1394">wg#1394</a> (True Nullability Schema)</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timeline">Timeline<a href="#timeline" class="hash-link" aria-label="Direct link to Timeline" title="Direct link to Timeline">‚Äã</a></h2>
<ul>
<li><strong><a href="https://github.com/graphql/graphql-wg/blob/bc70c2c1aa125456449473a0b6d377462141fe2b/rfcs/ClientControlledNullability.md" target="_blank" rel="noopener noreferrer">RFC document updated</a></strong> on 2025-02-24 by Martin Bonnin</li>
<li><strong><a href="https://github.com/graphql/graphql-wg/blob/ca0fc775c66ae0e31c4ed605503a2679d9390705/rfcs/ClientControlledNullability.md" target="_blank" rel="noopener noreferrer">RFC document updated</a></strong> on 2023-11-28 by Benjie Gillam</li>
<li><strong><a href="https://github.com/graphql/graphql-wg/blob/64c7f2e88b018de61763c780294d887b3c593b1e/rfcs/ClientControlledNullability.md" target="_blank" rel="noopener noreferrer">RFC document updated</a></strong> on 2023-08-03 by Calvin Cestari</li>
<li><strong><a href="https://github.com/graphql/graphql-wg/blob/e975ecc5c67a07e6074550f21b60751d32be7d27/rfcs/ClientControlledNullability.md" target="_blank" rel="noopener noreferrer">RFC document updated</a></strong> on 2022-05-16 by Alex Reilly</li>
<li><strong><a href="https://github.com/graphql/graphql-wg/blob/c24d2a3474418d159cb17f147e9a53bef37e0bc6/rfcs/ClientControlledNullability.md" target="_blank" rel="noopener noreferrer">RFC document created</a></strong> on 2021-11-04 by Alex Reilly</li>
</ul>
<hr>
<blockquote>
<p>NOTE: this document is not being worked on at the moment, instead the Nullability WG are currently exploring an alternative solution that addresses many of the same underlying issues in a different way: <a href="/rfcs/SemanticNullability">Semantic Nullability RFC</a>.</p>
<hr>
<h1>RFC: Client Controlled Nullability</h1>
<p><strong>Proposed by:</strong></p>
<ul>
<li><a href="https://github.com/twof" target="_blank" rel="noopener noreferrer">Alex Reilly</a> - Yelp iOS</li>
<li><a href="https://github.com/lizjakubowski" target="_blank" rel="noopener noreferrer">Liz Jakubowski</a> - Yelp iOS</li>
<li><a href="https://github.com/magicmark" target="_blank" rel="noopener noreferrer">Mark Larah</a> - Yelp Web</li>
<li>Sanae Rosen - Yelp Android</li>
<li><a href="https://github.com/fotoetienne" target="_blank" rel="noopener noreferrer">Stephen Spalding</a> - Netflix GraphQL Server Infrastructure</li>
<li><a href="https://github.com/xuewei8910" target="_blank" rel="noopener noreferrer">Wei Xue</a> - Yelp iOS</li>
<li><a href="https://github.com/aprilrd" target="_blank" rel="noopener noreferrer">Young Min Kim</a> - Netflix UI</li>
</ul>
<p>This RFC proposes syntax that would allow developers to override schema-defined
nullability of fields for individual operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a href="#definitions" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">‚Äã</a></h2>
<ul>
<li><strong>Required field</strong> - A field which is marked with <code>!</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-problem-statement">üìú Problem Statement<a href="#-problem-statement" class="hash-link" aria-label="Direct link to üìú Problem Statement" title="Direct link to üìú Problem Statement">‚Äã</a></h2>
<p>In our experience, client developers have been frustrated that the vast majority of fields are
nullable. We‚Äôve done this in accordance with official best practice, and we largely agree that this
is good practice. From the
<a href="https://graphql.org/learn/best-practices/#nullability" target="_blank" rel="noopener noreferrer">official GraphQL best practice</a>:</p>
<blockquote>
<p>This is because there are many things that can go awry in a networked service backed by databases
and other
services. A database could go down, an asynchronous action could fail, an exception could be
thrown. Beyond
simply system failures, authorization can often be granular, where individual fields within
a request can
have different authorization rules.</p>
</blockquote>
<p>The problem with the SDL Non-Nullable (<code>!</code>) is that it eliminates the possibility of partial failure
on a given type. This forces schema authors to decide for which fields partial failure is
acceptable. A GraphQL schema author may not be in the best position to predict whether partial failure
will be acceptable or unacceptable for every canvas that makes use of a field.</p>
<p>While the schema can have nullable fields for valid reasons (such as federation), in some cases the
client wants to decide if it accepts a <code>null</code> value for the result to simplify the client-side
logic.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-proposed-solution">üßë‚Äçüíª Proposed Solution<a href="#-proposed-solution" class="hash-link" aria-label="Direct link to üßë‚Äçüíª Proposed Solution" title="Direct link to üßë‚Äçüíª Proposed Solution">‚Äã</a></h2>
<p>A client-controlled Non-Nullable designator.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-behavior">üé¨ Behavior<a href="#-behavior" class="hash-link" aria-label="Direct link to üé¨ Behavior" title="Direct link to üé¨ Behavior">‚Äã</a></h2>
<p>Each client-controlled nullability designator overrides the schema-defined nullability of the field
it&#x27;s attached to for the duration of the operation.</p>
<h3><code>!</code></h3>
<p>The proposed client-controlled required designator would have identical semantics to the current
schema-defined <a href="https://spec.graphql.org/draft/#sec-Executing-Selection-Sets.Errors-and-Non-Null-Fields" target="_blank" rel="noopener noreferrer">Non-Null</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-validation">‚úÖ Validation<a href="#-validation" class="hash-link" aria-label="Direct link to ‚úÖ Validation" title="Direct link to ‚úÖ Validation">‚Äã</a></h2>
<p>If a developer executed an operation with two fields name <code>foo</code>, one a <code>String</code> and the other an
<code>Int</code>, the operation would be declared invalid by the server. The same is true if one of the fields
is designated required but both are otherwise the same type. In this example, <code>nickname</code> could be
either a <code>String</code> or a <code>String!</code> which are two different types and therefor can not be merged:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fragment</span><span class="token plain"> </span><span class="token fragment function" style="color:#d73a49">conflictingDifferingResponses</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token class-name">Pet</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token class-name">Dog</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">nickname</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token class-name">Cat</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">nickname</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-proposed-syntax">‚úèÔ∏è Proposed syntax<a href="#Ô∏è-proposed-syntax" class="hash-link" aria-label="Direct link to ‚úèÔ∏è Proposed syntax" title="Direct link to ‚úèÔ∏è Proposed syntax">‚Äã</a></h2>
<p>The client can express that a schema field is required by using the <code>!</code> syntax in the operation
definition:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> </span><span class="token definition-query function" style="color:#d73a49">GetBusinessName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property-query">business</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-1"><code>!</code><a href="#-1" class="hash-link" aria-label="Direct link to -1" title="Direct link to -1">‚Äã</a></h3>
<p>We have chosen <code>!</code> because <code>!</code> is already being used in the GraphQL spec to indicate that a field in
the schema is Non-Nullable, so it will feel familiar to GraphQL developers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use cases" title="Direct link to Use cases">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="improve-the-developer-experience-using-graphql-client-code-generators">Improve the developer experience using GraphQL client code generators<a href="#improve-the-developer-experience-using-graphql-client-code-generators" class="hash-link" aria-label="Direct link to Improve the developer experience using GraphQL client code generators" title="Direct link to Improve the developer experience using GraphQL client code generators">‚Äã</a></h3>
<p>Handling nullable values on the client is a major source of frustration for developers, especially
when using types generated by client code generators in strongly-typed languages. The proposed
required designator would allow GraphQL clients to generate types with more precise nullability
requirements for a particular feature. For example, using a GraphQL client like Apollo GraphQL on
mobile, the following query</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> </span><span class="token definition-query function" style="color:#d73a49">GetBusinessName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property-query">business</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>would be translated to the following type in Swift.</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">GetBusinessNameQuery</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Data</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> business</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Business</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Business</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">/// Lack of `?` indicates that `name` will never be `null`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If a null business name is not acceptable for the feature executing this query, this generated type
is more ergonomic to use since the developer does not need to unwrap the value each time it‚Äôs
accessed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-graphql-apis">3rd-party GraphQL APIs<a href="#3rd-party-graphql-apis" class="hash-link" aria-label="Direct link to 3rd-party GraphQL APIs" title="Direct link to 3rd-party GraphQL APIs">‚Äã</a></h3>
<p>Marking a field Non-Nullable in schema is not possible in every use case. For example, when a
developer is using a 3rd-party API such as
<a href="https://docs.github.com/en/graphql" target="_blank" rel="noopener noreferrer">Github&#x27;s GraphQL API</a> they won&#x27;t be able to alter Github&#x27;s
schema, but they may still want to have certain fields be required in their application. Even within
an organization, ownership rules may dictate that an developer is not allowed to alter a schema they
utilize.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-rfc-goals">‚úÖ RFC Goals<a href="#-rfc-goals" class="hash-link" aria-label="Direct link to ‚úÖ RFC Goals" title="Direct link to ‚úÖ RFC Goals">‚Äã</a></h2>
<ul>
<li>Non-nullable syntax that is based off of syntax that developers will already be familiar with</li>
<li>Enable GraphQL client code generation tools to generate more ergonomic types</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-rfc-non-goals">üö´ RFC Non-goals<a href="#-rfc-non-goals" class="hash-link" aria-label="Direct link to üö´ RFC Non-goals" title="Direct link to üö´ RFC Non-goals">‚Äã</a></h2>
<p>This syntax consciously does not cover the following use cases:</p>
<ul>
<li><strong>Default Values</strong>
The syntax being used in this proposal causes queries to propagate an error in the case that
a <code>null</code> is found for a required field. As an alternative, some languages provide syntax (eg <code>??</code>
for Swift) that says &quot;if a field would be <code>null</code> return some other value instead&quot;. We have not
covered that behavior in this proposal, but leave it open to be covered by future proposals.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-alternatives-considered">üó≥Ô∏è Alternatives considered<a href="#Ô∏è-alternatives-considered" class="hash-link" aria-label="Direct link to üó≥Ô∏è Alternatives considered" title="Direct link to üó≥Ô∏è Alternatives considered">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-nonnull-official-directive">A <code>@nonNull</code> official directive<a href="#a-nonnull-official-directive" class="hash-link" aria-label="Direct link to a-nonnull-official-directive" title="Direct link to a-nonnull-official-directive">‚Äã</a></h3>
<p>This solution offers the same benefits as the proposed solution. Additionally, this solution has
good upgrade paths if we later want to provide more behavior options to developers.
<a href="https://mrtnzlml.com/docs/relay/directives#required" target="_blank" rel="noopener noreferrer">Relay&#x27;s <code>@required</code> directive</a>, for example,
allows developers to decide how they want their clients to respond in the event that <code>null</code> is
received for a <code>@required</code> field.</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fragment</span><span class="token plain"> </span><span class="token fragment function" style="color:#d73a49">Foo</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">address</span><span class="token plain"> </span><span class="token directive function" style="color:#d73a49">@required</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">action</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">THROW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">city</span><span class="token plain"> </span><span class="token directive function" style="color:#d73a49">@required</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">action</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">LOG</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With our current proposal, we don&#x27;t have a great way to offer this kind of flexibility that would
mesh nicely with existing GraphQL syntax.</p>
<p>However we think the described behavior acts as a nice, concise default, and is worth the tradeoff.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-nonnull-custom-directive">A <code>@nonNull</code> custom directive<a href="#a-nonnull-custom-directive" class="hash-link" aria-label="Direct link to a-nonnull-custom-directive" title="Direct link to a-nonnull-custom-directive">‚Äã</a></h3>
<p>This is an alternative being used at some of the companies represented in this proposal.</p>
<p>While this solution simplifies some client-side logic, it does not meaningfully improve the
developer experience for clients.</p>
<ul>
<li>The cache implementations of &quot;smart&quot; GraphQL clients also need to understand the custom directive
to behave correctly. Currently, when a client library caches a <code>null</code> field based on an operation
without a directive, it will return the <code>null</code> field for another operation with this directive.</li>
<li>For clients that rely on client code generation, generated types typically cannot be customized
based on a custom directive. See
<a href="https://github.com/dotansimha/graphql-code-generator/discussions/5676" target="_blank" rel="noopener noreferrer">https://github.com/dotansimha/graphql-code-generator/discussions/5676</a> for an example. As a result,
the optional generated properties still need to be unwrapped in the code.</li>
</ul>
<p>This feels like a common enough need to call for a language feature. A single language feature would
enable more unified public tooling around GraphQL.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-schema-fields-non-nullable">Make Schema Fields Non-Nullable<a href="#make-schema-fields-non-nullable" class="hash-link" aria-label="Direct link to Make Schema Fields Non-Nullable" title="Direct link to Make Schema Fields Non-Nullable">‚Äã</a></h3>
<p>It is intuitive that one should simply mark fields that are not intended to be <code>null</code> Non-Nullable
in the schema. For example, in the following GraphQL schema:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Business</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">isStarred</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">Boolean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If we intend to always have a <code>name</code> and <code>isStarred</code> for a <code>Business</code>, it may be tempting to mark
these fields Non-Nullable:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Business</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">isStarred</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">Boolean</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Marking schema fields Non-Nullable may introduce problems in a distributed environment where partial
failure is a possibility regardless of whether the field is intended to have <code>null</code> as a valid
state.</p>
<p>When a Non-Nullable field results in <code>null</code>, the GraphQL server will recursively step through the
field‚Äôs ancestors to find the next nullable field. In the following GraphQL response:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;business&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The French Laundry&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;isStarred&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If <code>isStarred</code> is Non-Nullable but resolves to <code>null</code> and business is nullable, the result will be:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;business&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Even if <code>isStarred</code> resolves to a valid result, the response would no longer provide this data. If business is
Non-Nullable, the response will be:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the case that the service storing business stars is unavailable, the UI may want to go ahead and
render the component without a star (effectively defaulting <code>isStarred</code> to <code>false</code>). A Non-Nullable
field in the schema makes it impossible for the client to receive partial results from the server,
and thus potentially forces the entire component to fail to render.</p>
<p>More discussion on <a href="https://medium.com/@calebmer/when-to-use-graphql-non-null-fields-4059337f6fc8" target="_blank" rel="noopener noreferrer">when to use Non-Nullable can be found here</a></p>
<p>Also see <a href="#3rd-party-GraphQL-APIs">3rd-party GraphQL APIs</a> for an instance where it wouldn&#x27;t be
possible for a developer to alter the schema for a service they&#x27;re using.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="write-wrapper-types-that-null-check-fields">Write wrapper types that null-check fields<a href="#write-wrapper-types-that-null-check-fields" class="hash-link" aria-label="Direct link to Write wrapper types that null-check fields" title="Direct link to Write wrapper types that null-check fields">‚Äã</a></h3>
<p>This is the alternative being used at some of the companies represented in this proposal for the
time being. It&#x27;s labor intensive and rote work. It more or less undermines any gains from code
generation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives-to-">Alternatives to <code>!</code><a href="#alternatives-to-" class="hash-link" aria-label="Direct link to alternatives-to-" title="Direct link to alternatives-to-">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-2"><code>!!</code><a href="#-2" class="hash-link" aria-label="Direct link to -2" title="Direct link to -2">‚Äã</a></h4>
<p>This would follow the precedent set by Kotlin. It&#x27;s more verbose and diverges from GraphQL&#x27;s SDL
precedent.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision-log">Decision Log<a href="#decision-log" class="hash-link" aria-label="Direct link to Decision Log" title="Direct link to Decision Log">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-as-the-only-designator-in-the-rfc-july-2023"><code>!</code> as the only designator in the RFC (July 2023)<a href="#-as-the-only-designator-in-the-rfc-july-2023" class="hash-link" aria-label="Direct link to -as-the-only-designator-in-the-rfc-july-2023" title="Direct link to -as-the-only-designator-in-the-rfc-july-2023">‚Äã</a></h3>
<p>At the July 26th meeting of the CCN sub-WG it was decided to simplify the RFC for the sake of progress. This
reverses the &quot;<code>?</code> as a counterpart to the <code>!</code>&quot; designator.</p>
<p>The increased scope of the RFC with the nullability designator <code>?</code> has stalled the RFC for more than two
years (<a href="https://github.com/twof/graphql-spec/pull/1/files" target="_blank" rel="noopener noreferrer">the initial RFC from April 2021</a>).</p>
<p>One of the contentious discussions we encountered was around the proposed behaviors of the nullability designator
<code>?</code>. Regardless of the chosen path, it had unintuitive semantics (see graphql/client-controlled-nullability-wg#2),
which require‚Äã other RFCs, such as <a href="https://github.com/graphql/graphql-wg/blob/main/rfcs/FragmentModularity.md" target="_blank" rel="noopener noreferrer">fragment boundaries</a>, or new ideas like inline errors.</p>
<p>Even though we recognize the value of having a counterpart to <code>!</code>, we made a tradeoff decision to provide value
to the community sooner than later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prior-to-july-2023">Prior to July 2023<a href="#prior-to-july-2023" class="hash-link" aria-label="Direct link to Prior to July 2023" title="Direct link to Prior to July 2023">‚Äã</a></h3>
<p>This proposal started out with a very simple premise and implementation, and has gotten more complex as
the community has explored edge cases and facets about how GraphQL is actually used in practice. For
example this proposal starts out by talking about accommodating the &quot;best practices&quot; that are recommended
by the GraphQL documentation and the community, but we discovered pretty early on that there are
legitimate use cases where the &quot;best practices&quot; are rightfully ignored. Some of those use cases are
covered in &quot;<code>?</code> as a counterpart to <code>!</code>&quot;.</p>
<p>In order to cover instances like that, we&#x27;ve needed to justify additional complexity which can be
difficult to understand for newcomers without (at this point a full year) of context. This decision
log was written with newcomers in mind to avoid rediscussing issues that have already been hashed out,
and to make it easier to understand why certain decisions have been made. At the time of writing,
the decisions here aren&#x27;t set in stone, so any future discussions can use this log as a starting point.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-as-a-counterpart-to-"><code>?</code> as a counterpart to <code>!</code><a href="#-as-a-counterpart-to-" class="hash-link" aria-label="Direct link to -as-a-counterpart-to-" title="Direct link to -as-a-counterpart-to-">‚Äã</a></h4>
<p>Lee was the first person <a href="https://github.com/graphql/graphql-spec/issues/867#issuecomment-840807186" target="_blank" rel="noopener noreferrer">to suggest</a>
that the inverse of <code>!</code> should exist and that it should be represented by <code>?</code>. The
<a href="https://github.com/graphql/graphql-spec/issues/867#issuecomment-841372320" target="_blank" rel="noopener noreferrer">reasoning</a> was that it &quot;completes
the story of control&quot; and provides a guaranteed stopping point for <code>null</code> propagation if we&#x27;re using the existing
<code>null</code> propagation rules. The feeling was that &quot;introducing ! without ? is like introducing <code>throw</code> without <code>catch</code>&quot;.</p>
<p>Lee also surfaced that there are some use cases like his own at Robinhood where they&#x27;re trying to balance
developer experience and data preservation, and have opted to mark quite a few fields <code>Non-Null</code>. Data
preservation is very important because Robinhood is working with financial data, so they have the opposite
problem where they sometimes want to be able to halt <code>null</code> propagation, rather than the inverse use case which
this proposal originally supported.</p>
<p>Developers from Apollo indicated that many of their customers face problems around schema breaking where the
solution to developer experience gripes is to make a breaking change and swap a field from nullable to <code>Non-Nullable</code>
or vice versa, which can be a labor intensive process.</p>
<p>Since there seemed to be general consensus that <code>?</code> was a good addition to the proposal, it was adopted without a vote.</p>
<p>Subsequently there was discussion around whether <code>?</code> could be introduced in a later proposal, and there was general
agreement that the usability of <code>!</code> is limited without <code>?</code>, and the selected <code>null</code> propagation behavior described
below solidifies the decision to introduce both additions in a single proposal.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="list-syntax">List syntax<a href="#list-syntax" class="hash-link" aria-label="Direct link to List syntax" title="Direct link to List syntax">‚Äã</a></h4>
<p>Developers from Apollo <a href="https://github.com/graphql/graphql-spec/pull/895#issuecomment-961442966" target="_blank" rel="noopener noreferrer">suggested</a> early
on that users would want to apply CCN syntax to list elements. The possibility had been suggested earlier than
that as well, but it was put off because neither Netflix nor Relay&#x27;s CCN counterparts had the feature, and it
hadn&#x27;t been a problem yet. However there was enough interest during community feedback sessions to adopt it
into the proposal. <a href="https://github.com/graphql/graphql-wg/discussions/864" target="_blank" rel="noopener noreferrer">Discussions</a> around which specific
syntax to adopt happened over the following months.</p>
<p>Options other than the one that was landed on included the following:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The folks that voted against this option felt that it was unclear how it should be interpreted, whether operators
should be applied from the outside-in, or inside-out.</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">as</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token scalar">Int</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token plain"> &lt;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token scalar">Int</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The folks that voted against this option felt that this option read like a type-cast, and that the inclusion
of a type placed an undue burden on client developers. Validation would fail if the type was incorrect, and
didn&#x27;t provide much additional value.</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This syntax, called &quot;the bracket syntax&quot; during discussions was selected for adoption by majority vote at the
<a href="https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-03-03.md" target="_blank" rel="noopener noreferrer">March 3rd, 2022 GraphQL Working Group Meeting</a>.
9 out of 10 participants voted for this option with the final vote going to the <code>&lt;= [[Int!]!]</code> option.</p>
<p>Initially there was a restriction on the bracket syntax where the depth of the syntax needed to match depth of
the field&#x27;s list type, but participants at the same meeting felt that restriction should be loosened so
that developers could opt to apply the syntax to only the field itself and ignore the elements of the
list. Under that new rule the following would also be valid, and the two examples would be equivalent.</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">twoDimensionalList</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There are however some open concerns that the first of the two examples could be ambiguous as to whether
the <code>!</code> applies to the field as a whole or to the list elements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-propagates-null-to-nearest--rather-than-nearest-nullable-field"><code>!</code> propagates <code>null</code> to nearest <code>?</code> rather than nearest nullable field<a href="#-propagates-null-to-nearest--rather-than-nearest-nullable-field" class="hash-link" aria-label="Direct link to -propagates-null-to-nearest--rather-than-nearest-nullable-field" title="Direct link to -propagates-null-to-nearest--rather-than-nearest-nullable-field">‚Äã</a></h4>
<p>The selected mechanics were most requested by the folks at Meta working on <a href="https://relay.dev/" target="_blank" rel="noopener noreferrer">Relay</a>.
Relay wanted this behavior for a few reasons</p>
<ul>
<li>Relay presents a facade of fragment isolation for its own
<a href="https://relay.dev/docs/next/guides/required-directive/" target="_blank" rel="noopener noreferrer"><code>@required</code> directive</a>. If a field is <code>null</code>,
rather than merging fragments and propagating <code>null</code> to all sibling fields on selection sets that use
that fragment, the most popular option as chosen by ~90% of developers is to have the request throw
and utilize React&#x27;s error boundaries. It also has the option to do <code>null</code> propagation, but that too
is bound to a single fragment. Because of this, it likely won&#x27;t be able to use CCN at first, but
developers would like to be able to use it in the future once
<a href="https://github.com/graphql/graphql-wg/blob/main/rfcs/FragmentModularity.md" target="_blank" rel="noopener noreferrer">Fragment Modularity</a>
makes it into the spec. The selected option preserves the possibility of Relay and other clients that utilize
fragments heavily using CCN in the future.</li>
<li>The throwing option that Relay provides on their <code>@required</code> directive effectively allows developers
to indicate &quot;If some required field is missing, throw out everything from this field to the fragment boundary&quot;
which is tighter client control than was offered by the initial iteration of this proposal where <code>!</code> only
transformed a field into a <code>Non-Null</code>. In that case, the server still had control over where <code>null</code>
propagation halted with which fields the schema said were nullable. The selected <code>null</code> propagation option
is slightly closer to the most popular <code>@required</code> option in that way.</li>
</ul>
<p>With the initial iteration of this proposal if users wanted to guarantee that all fields through multiple
parents should be lost in the event that a child is <code>null</code>, they would need to mark each level with a <code>!</code>,
but the selected option avoids that.</p>
<p>With the selected option, forgetting to include a <code>?</code> is potentially dangerous because it would result
in more fields being lost than intended, all the way up to the <code>data</code> field in the worst case scenario.
There were concerns that that was a blocker, but arguments were made that because most queries are relatively
small, it wasn&#x27;t actually that dangerous. Clients have also often been treating the existence of any errors
as a failed request and thrown out entire responses, so in effect, clients been choosing the &quot;worst case
scenario&quot; when given the option.</p>
<p>The behavior where <code>!</code> propagates <code>null</code> to nearest <code>?</code> was selected for adoption by majority vote at the
<a href="https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-03-03.md" target="_blank" rel="noopener noreferrer">March 3rd, 2022 GraphQL Working Group Meeting</a>.
7 out of 8 participants voted for this option with the final vote going to behavior where the <code>!</code> would be non-destructive.</p>
<p>The non-destructive option was turned down because having different behavior per-client wasn&#x27;t desirable, and
it provided no benefits to naive clients (like a bash script) because extra processing would be required
for it to be a value-add.</p>
</blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rfcs/1050"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Directive proposal for opting out of null bubbling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rfcs/1114"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">add __directive meta field parallel to __type</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#at-a-glance" class="table-of-contents__link toc-highlight">At a glance</a></li><li><a href="#timeline" class="table-of-contents__link toc-highlight">Timeline</a></li><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#-problem-statement" class="table-of-contents__link toc-highlight">üìú Problem Statement</a></li><li><a href="#-proposed-solution" class="table-of-contents__link toc-highlight">üßë‚Äçüíª Proposed Solution</a></li><li><a href="#-behavior" class="table-of-contents__link toc-highlight">üé¨ Behavior</a><ul><li><a href="#" class="table-of-contents__link toc-highlight"><code>!</code></a></li></ul></li><li><a href="#-validation" class="table-of-contents__link toc-highlight">‚úÖ Validation</a></li><li><a href="#Ô∏è-proposed-syntax" class="table-of-contents__link toc-highlight">‚úèÔ∏è Proposed syntax</a><ul><li><a href="#-1" class="table-of-contents__link toc-highlight"><code>!</code></a></li></ul></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use cases</a><ul><li><a href="#improve-the-developer-experience-using-graphql-client-code-generators" class="table-of-contents__link toc-highlight">Improve the developer experience using GraphQL client code generators</a></li><li><a href="#3rd-party-graphql-apis" class="table-of-contents__link toc-highlight">3rd-party GraphQL APIs</a></li></ul></li><li><a href="#-rfc-goals" class="table-of-contents__link toc-highlight">‚úÖ RFC Goals</a></li><li><a href="#-rfc-non-goals" class="table-of-contents__link toc-highlight">üö´ RFC Non-goals</a></li><li><a href="#Ô∏è-alternatives-considered" class="table-of-contents__link toc-highlight">üó≥Ô∏è Alternatives considered</a><ul><li><a href="#a-nonnull-official-directive" class="table-of-contents__link toc-highlight">A <code>@nonNull</code> official directive</a></li><li><a href="#a-nonnull-custom-directive" class="table-of-contents__link toc-highlight">A <code>@nonNull</code> custom directive</a></li><li><a href="#make-schema-fields-non-nullable" class="table-of-contents__link toc-highlight">Make Schema Fields Non-Nullable</a></li><li><a href="#write-wrapper-types-that-null-check-fields" class="table-of-contents__link toc-highlight">Write wrapper types that null-check fields</a></li><li><a href="#alternatives-to-" class="table-of-contents__link toc-highlight">Alternatives to <code>!</code></a></li></ul></li><li><a href="#decision-log" class="table-of-contents__link toc-highlight">Decision Log</a><ul><li><a href="#-as-the-only-designator-in-the-rfc-july-2023" class="table-of-contents__link toc-highlight"><code>!</code> as the only designator in the RFC (July 2023)</a></li><li><a href="#prior-to-july-2023" class="table-of-contents__link toc-highlight">Prior to July 2023</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Benjie Gillam; all rights reserved. RFC pages pull content from public GitHub issues/PRs/files/etc; this content remains owned its various authors.</div></div></div></footer></div>
</body>
</html>