---
identifier: "948"
title: OneOf Objects
stage: "0"
champion: benjie
prUrl: https://github.com/graphql/graphql-spec/pull/948
events:
  - type: wgAgenda
    href: https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-06-02.md
    date: 2022-06-02
    actor: null
  - type: wgNotes
    href: https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-06-02.md
    date: 2022-06-02
    actor: null
  - type: commitsPushed
    date: 2022-05-24
    href: https://github.com/graphql/graphql-spec/commit/5a0daf84a62c446c35f4e405475075afd2f4cecd
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/5a0daf84a62c446c35f4e405475075afd2f4cecd
        headline: Typo
        ghUser: benjie
        authorName: Benjie Gillam
  - type: prCreated
    date: 2022-05-23T17:54:33Z
    href: https://github.com/graphql/graphql-spec/pull/948
    actor: benjie
  - type: commitsPushed
    date: 2022-05-23
    href: https://github.com/graphql/graphql-spec/commit/24d8468952ea38f5b1a6fb8394a5b5cb7841a53d
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/24d8468952ea38f5b1a6fb8394a5b5cb7841a53d
        headline: Spec edits for oneOf on output
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/42fdf08bc4f57a96da6f8da2d8af26a95a4905e7
        headline: Fix resolution of __typename
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2022-05-06
    href: https://github.com/graphql/graphql-spec/commit/05ab541cf3da11b5d0a447b7ffc7e8e37bde427c
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/05ab541cf3da11b5d0a447b7ffc7e8e37bde427c
        headline: Remove out of date example
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2022-03-22
    href: https://github.com/graphql/graphql-spec/commit/c470afb211821809c2589dc3ceac4ae74354ea59
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/c470afb211821809c2589dc3ceac4ae74354ea59
        headline: Merge branch 'main' into oneof-v2
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/99aa5d935eddeb001f6aa3feb8a9134f9cc844a6
        headline: Remove Oneof Fields from spec
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/691087d93ce8c00ab615acf4a4ce694bec542c64
        headline: Oneof -> OneOf
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/7109dbcb1855527c5aa7077d8468efd4822b8c80
        headline: Spellings
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2022-01-04
    href: https://github.com/graphql/graphql-spec/commit/59cb12d0670f258d9e4fb974c2545501d1911e7b
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/59cb12d0670f258d9e4fb974c2545501d1911e7b
        headline: Update spec/Section 3 -- Type System.md
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2021-12-23
    href: https://github.com/graphql/graphql-spec/commit/08abf496828c4786c21f2d2c0cf01de816c441c3
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/08abf496828c4786c21f2d2c0cf01de816c441c3
        headline: Apply suggestions from code review
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2021-04-08
    href: https://github.com/graphql/graphql-spec/commit/05fde061b5acb44fdb4bfe0c809fcaf673c7a0d0
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/05fde061b5acb44fdb4bfe0c809fcaf673c7a0d0
        headline: graphgl -> graphql
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/e8f6145dacfe96ec9a4e9e3ee599b225801371f4
        headline: Apply suggestions from @eapache's review
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2021-03-06
    href: https://github.com/graphql/graphql-spec/commit/d17d5ec701c62254b660043682421f70334f82fa
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/d17d5ec701c62254b660043682421f70334f82fa
        headline: Much stricter validation for oneof literals (with examples)
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/dca382698779475ae5d3cac8d4964df19b3df10b
        headline: Add missing coercion rule
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/7e02f5aff9d143ab484fc68fad1674c5a86c5e9a
        headline: Clearer wording of oneof coercion rule
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/4111476cd07e58bc9ee87741ad73cd06f42d544d
        headline: Add more examples for clarity
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/6754e0a018545d1f8e423fb15cd35462c5c42397
        headline: Rename introspection fields to oneOf
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/7c4c1a2bbe6d10b29433eeb2b3628f4982321f76
        headline: Oneof's now require exactly one field/argument, and non-nullable vari…
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/bb225f77781adfc23df14e391db5ee4a01d1eb6a
        headline: Remove extraneous newline
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2021-02-26
    href: https://github.com/graphql/graphql-spec/commit/b6741c3e5327573d35f51dbbbb38059ed8799884
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/b6741c3e5327573d35f51dbbbb38059ed8799884
        headline: Fix typos (thanks @eapache!)
        ghUser: benjie
        authorName: Benjie Gillam
  - type: commitsPushed
    date: 2021-02-19
    href: https://github.com/graphql/graphql-spec/commit/c385058693ab5e308e780801a1b892e54605f513
    actor: benjie
    commits:
      - href: https://github.com/graphql/graphql-spec/commit/c385058693ab5e308e780801a1b892e54605f513
        headline: Renumber list items
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/f6bd659cfa089c5b5778fc649c278617afc7ba7c
        headline: "@oneOf input objects"
        ghUser: benjie
        authorName: Benjie Gillam
      - href: https://github.com/graphql/graphql-spec/commit/39e593cb8b0d13a50997b3edaba5edd06d491abb
        headline: "@oneOf fields"
        ghUser: benjie
        authorName: Benjie Gillam
shortname: OneOf Objects
image: /img/rfc_tracker.png
---

## At a glance

- **Identifier**: #948
- **Stage**: [RFC0: Strawman](https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-0-strawman)
- **Champion**: [@benjie](https://github.com/benjie)
- **PR**: [OneOf Objects](https://github.com/graphql/graphql-spec/pull/948)

<!-- BEGIN_CUSTOM_TEXT -->



<!-- END_CUSTOM_TEXT -->

## Timeline

- **Added to [2022-06-02 WG agenda](https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-06-02.md)**
- **Mentioned in [2022-06-02 WG notes](https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-06-02.md)**
- **Commit pushed**: [Typo](https://github.com/graphql/graphql-spec/commit/5a0daf84a62c446c35f4e405475075afd2f4cecd) on 2022-05-24 by [@benjie](https://github.com/benjie)
- **[Spec PR](https://github.com/graphql/graphql-spec/pull/948) created** on 2022-05-23 by benjie
- **2 commits pushed** on 2022-05-23:
  - [Spec edits for oneOf on output](https://github.com/graphql/graphql-spec/commit/24d8468952ea38f5b1a6fb8394a5b5cb7841a53d) by [@benjie](https://github.com/benjie)
  - [Fix resolution of __typename](https://github.com/graphql/graphql-spec/commit/42fdf08bc4f57a96da6f8da2d8af26a95a4905e7) by [@benjie](https://github.com/benjie)
- **Commit pushed**: [Remove out of date example](https://github.com/graphql/graphql-spec/commit/05ab541cf3da11b5d0a447b7ffc7e8e37bde427c) on 2022-05-06 by [@benjie](https://github.com/benjie)
- **4 commits pushed** on 2022-03-22:
  - [Merge branch 'main' into oneof-v2](https://github.com/graphql/graphql-spec/commit/c470afb211821809c2589dc3ceac4ae74354ea59) by [@benjie](https://github.com/benjie)
  - [Remove Oneof Fields from spec](https://github.com/graphql/graphql-spec/commit/99aa5d935eddeb001f6aa3feb8a9134f9cc844a6) by [@benjie](https://github.com/benjie)
  - [Oneof -&#x3e; OneOf](https://github.com/graphql/graphql-spec/commit/691087d93ce8c00ab615acf4a4ce694bec542c64) by [@benjie](https://github.com/benjie)
  - [Spellings](https://github.com/graphql/graphql-spec/commit/7109dbcb1855527c5aa7077d8468efd4822b8c80) by [@benjie](https://github.com/benjie)
- **Commit pushed**: [Update spec/Section 3 -- Type System.md](https://github.com/graphql/graphql-spec/commit/59cb12d0670f258d9e4fb974c2545501d1911e7b) on 2022-01-04 by [@benjie](https://github.com/benjie)
- **Commit pushed**: [Apply suggestions from code review](https://github.com/graphql/graphql-spec/commit/08abf496828c4786c21f2d2c0cf01de816c441c3) on 2021-12-23 by [@benjie](https://github.com/benjie)
- **2 commits pushed** on 2021-04-08:
  - [graphgl -&#x3e; graphql](https://github.com/graphql/graphql-spec/commit/05fde061b5acb44fdb4bfe0c809fcaf673c7a0d0) by [@benjie](https://github.com/benjie)
  - [Apply suggestions from @eapache's review](https://github.com/graphql/graphql-spec/commit/e8f6145dacfe96ec9a4e9e3ee599b225801371f4) by [@benjie](https://github.com/benjie)
- **7 commits pushed** on 2021-03-06:
  - [Much stricter validation for oneof literals (with examples)](https://github.com/graphql/graphql-spec/commit/d17d5ec701c62254b660043682421f70334f82fa) by [@benjie](https://github.com/benjie)
  - [Add missing coercion rule](https://github.com/graphql/graphql-spec/commit/dca382698779475ae5d3cac8d4964df19b3df10b) by [@benjie](https://github.com/benjie)
  - [Clearer wording of oneof coercion rule](https://github.com/graphql/graphql-spec/commit/7e02f5aff9d143ab484fc68fad1674c5a86c5e9a) by [@benjie](https://github.com/benjie)
  - [Add more examples for clarity](https://github.com/graphql/graphql-spec/commit/4111476cd07e58bc9ee87741ad73cd06f42d544d) by [@benjie](https://github.com/benjie)
  - [Rename introspection fields to oneOf](https://github.com/graphql/graphql-spec/commit/6754e0a018545d1f8e423fb15cd35462c5c42397) by [@benjie](https://github.com/benjie)
  - [Oneof's now require exactly one field/argument, and non-nullable vari…](https://github.com/graphql/graphql-spec/commit/7c4c1a2bbe6d10b29433eeb2b3628f4982321f76) by [@benjie](https://github.com/benjie)
  - [Remove extraneous newline](https://github.com/graphql/graphql-spec/commit/bb225f77781adfc23df14e391db5ee4a01d1eb6a) by [@benjie](https://github.com/benjie)
- **Commit pushed**: [Fix typos (thanks @eapache!)](https://github.com/graphql/graphql-spec/commit/b6741c3e5327573d35f51dbbbb38059ed8799884) on 2021-02-26 by [@benjie](https://github.com/benjie)
- **3 commits pushed** on 2021-02-19:
  - [Renumber list items](https://github.com/graphql/graphql-spec/commit/c385058693ab5e308e780801a1b892e54605f513) by [@benjie](https://github.com/benjie)
  - [@oneOf input objects](https://github.com/graphql/graphql-spec/commit/f6bd659cfa089c5b5778fc649c278617afc7ba7c) by [@benjie](https://github.com/benjie)
  - [@oneOf fields](https://github.com/graphql/graphql-spec/commit/39e593cb8b0d13a50997b3edaba5edd06d491abb) by [@benjie](https://github.com/benjie)

<!-- VERBATIM -->

---

> This is a follow-up to #825 that proposes adding the `@oneOf` directive to object types (output objects).
> 
> This is a draft right now as I've not yet had time to think through it well enough, but it raises a few questions:
> 
> 1. The proposed resolution algorithm is a slight divergence from the status quo, omitting fields from the response rather than setting them null. This makes it align with #825, but is it desired? Should we change #825 to only require​ one non-null field rather than just one field?
> 2. Should we allow aliases? The current proposed resolution algorithm ensures that every identical field requested on a `@oneOf` selection set will get the same value, but it does so in a somewhat awkward way. Forbidding aliases could remove the need for this.
> 3. What happens if a `@oneOf` is queried as part of a union? The proposed resolution algorithm allows for this by leaving it up to the implementation, I think this is probably best unless anyone has a better idea?
> 
> TODO:
> 
> - [ ] When validating the schema, forbid `@oneOf` on operation types.
> - [ ] Tidy up the language around maps/accessing keys.
> 
> Note this PR is based off of #825, so this is probably the diff you want:
> 
> https://github.com/benjie/graphql-spec/compare/oneof-v2..oneof-output
> 
> 
> Other notes:
> 
> - Seems like `@stream`, `@defer`, `@skip` and `@include` are all compatible with oneOf.
> - Aliases don't need to cause a problem; they'll make the client's life harder, but if it's the client requesting it then that's their problem :laughing: 
> - The fields on a `@oneOf` don't have their own traditional resolvers, instead the parent value must dictate which key/value was returned. This prevents confusion where the same field being requested multiple times (`{ a1: a, a2: a, a3: a }`) could result in different values - we explicitly prevent this from happening.
