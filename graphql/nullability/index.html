<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-graphql/nullability" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Nullability | benjie.dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://benjie.dev/img/avatar.jpg"><meta data-rh="true" name="twitter:image" content="https://benjie.dev/img/avatar.jpg"><meta data-rh="true" property="og:url" content="https://benjie.dev/graphql/nullability"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="en-GB"><meta data-rh="true" name="docsearch:language" content="en-GB"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="twitter:title" content="Nullability | benjie.dev"><meta data-rh="true" property="og:title" content="Nullability | benjie.dev"><meta data-rh="true" name="description" content="The past and future of GraphQL nullability, according to Benjie"><meta data-rh="true" property="og:description" content="The past and future of GraphQL nullability, according to Benjie"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://benjie.dev/graphql/nullability"><link data-rh="true" rel="alternate" href="https://benjie.dev/graphql/nullability" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://benjie.dev/graphql/nullability" hreflang="x-default"><script src="https://assets.calendly.com/assets/external/widget.js"></script><link rel="stylesheet" href="/assets/css/styles.c47278a5.css">
<script src="/assets/js/runtime~main.69e90c0c.js" defer="defer"></script>
<script src="/assets/js/main.07905223.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/avatar.jpg" alt="benjie" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">benjie.dev</b></a><a class="navbar__item navbar__link" href="/rfcs/">RFCs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/book">📞 Book a call</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">about:benjie</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/graphql/">GraphQL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/security">GraphQL Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/trusted-documents">Trusted Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/static-documents">Static Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/naming">Naming Conventions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/graphql/nullability">Nullability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/nested-mutations">Nested Mutations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/traversal">Graph Traversal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/normalized">Normalized Stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql/ancestors">Referencing Ancestors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/talks/">Talks</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/talks/techniques-to-protect">Techniques to Protect Your GraphQL API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/linux/">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/linux/bluetooth-dual-boot">Dual boot bluetooth pairing</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/graphql/"><span itemprop="name">GraphQL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Nullability</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nullability</h1></header><blockquote>
<p><em>This article reflects Benjie&#x27;s opinions on the past and the future of
Nullability in GraphQL; but note that these are merely opinions.</em></p>
</blockquote>
<p>Here&#x27;s a 60 second summary of this article:</p>
<iframe width="315" height="560" src="https://www.youtube.com/embed/gYnVaZz-19A" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="by-default-data-doesnt-exist">By default, data doesn&#x27;t exist<a href="#by-default-data-doesnt-exist" class="hash-link" aria-label="Direct link to By default, data doesn&#x27;t exist" title="Direct link to By default, data doesn&#x27;t exist">​</a></h3>
<p>In mathematics and in many programming languages we use <code>null</code> to represent data
that doesn&#x27;t exist (let&#x27;s not get into JavaScript...).</p>
<p>The original SQL standard factored this knowledge into its design, so an <code>int</code>
column in SQL means &quot;an integer or null&quot;. To represent a non-nullable integer
you would add a type narrowing constraint, such as <code>int not null</code>. This pattern
of the type including null unless otherwise constrained is called &quot;<strong>nullable by
default</strong>&quot;.</p>
<p>GraphQL is similar, types are nullable by default. To narrow a type to exclude
null, we add a &quot;non null&quot; wrapper, indicated in the GraphQL language by an
exclamation point:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Initial schema</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Definitely a string, never null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">you</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Definitely a User, never null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="partial-success">Partial success<a href="#partial-success" class="hash-link" aria-label="Direct link to Partial success" title="Direct link to Partial success">​</a></h3>
<p>Resiliency was a key design goal of GraphQL. When working on the newsfeed,
Facebook wanted to ensure that any temporary interruptions in one part of the
system would not impact on other parts and cause user outages. Instead, they
wanted GraphQL to enable &quot;partial success&quot; where as much data as possible would
be rendered to the user.</p>
<p>To enable this resiliency, when GraphQL meets an error it notes where it was,
adds it to the &quot;errors&quot; list, and replaces the output data with <code>null</code>:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Query type</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">you</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">me</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Query</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Q</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token object">you</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token object">me</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Response</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;you&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;me&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt; An error occurred, see `errors`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;errors&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;me&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Not logged in&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>But what if a non-null field errors? If we placed a null in that position,
wouldn&#x27;t that be a contradiction?</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Query type</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">you</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">me</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># How does non-null interact with errors?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-propagation-aka-null-bubbling">Error propagation (aka null bubbling)<a href="#error-propagation-aka-null-bubbling" class="hash-link" aria-label="Direct link to Error propagation (aka null bubbling)" title="Direct link to Error propagation (aka null bubbling)">​</a></h3>
<p>To keep the non-null promise, GraphQL decided to perform a behavior it terms
&quot;error propagation&quot; but most people refer to as &quot;null bubbling&quot; - it would throw
the error and catch it at the next nullable position (or the operation root if
no such position existed).</p>
<p>The end result: GraphQL will destroy result data outside of the field that
failed in order to keep non-null promises. No wonder Facebook call the non-null
type &quot;<strong>kills parent on exception</strong>&quot;!</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Response</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//     👆 All of the data was destroyed, even the unrelated `you` field!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;errors&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;me&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Not logged in&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-best-practice">Schema best practice?<a href="#schema-best-practice" class="hash-link" aria-label="Direct link to Schema best practice?" title="Direct link to Schema best practice?">​</a></h3>
<p>So when designing schemas it has been best practice to make fields nullable
unless we&#x27;re fairly certain they won&#x27;t error. This allows the client to retain
its resilience to errors, by rendering partially successful data.</p>
<p>But having null checks throughout our client sucks!</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">me</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">User</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">user</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">data</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">me</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// TODO: determine if this was an error null,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// or just a non-existent user.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">NotFoundOrError</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="handling-errors-on-the-client">Handling errors on the client<a href="#handling-errors-on-the-client" class="hash-link" aria-label="Direct link to Handling errors on the client" title="Direct link to Handling errors on the client">​</a></h3>
<p><a href="https://github.com/graphile/graphql-toe" target="_blank" rel="noopener noreferrer"><code>graphql-toe</code></a> is an npm module that
uses getters to reproduce server errors on the client by throwing when an
errored field is accessed:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> toe </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;graphql-toe&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> gql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;graffle&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/graphql&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dataAndErrors </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">toe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataAndErrors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">you</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Returns {&quot;name&quot;: &quot;Jo&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataAndErrors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">me</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ‼️ throws Error(&quot;Log in!&quot;) ‼️</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>graphql-toe</code> can be integrated into many frameworks in the JS ecosystem (Apollo
Client, urql, graffle, <code>fetch()</code>), but other frameworks may have their own
native error handling (e.g. Relay has the
<a href="https://relay.dev/docs/guides/throw-on-field-error-directive/" target="_blank" rel="noopener noreferrer"><code>@throwOnFieldError</code> directive</a>
which can be applied to fragments).</p>
<p>By recombining <code>errors</code> back into <code>data</code> we no longer need GraphQL to bubble
nulls to keep its promise; since a <code>null</code> can never be read from an errored
position.</p>
<p>An &quot;<strong>error handling client</strong>&quot; is a client which prevents the user from reading
a <code>null</code> used as a placeholder for an error in a GraphQL response. The client
may do so by throwing when an errored field is accessed (as is the case for
<a href="https://github.com/graphile/graphql-toe" target="_blank" rel="noopener noreferrer"><code>graphql-toe</code></a>), or when a fragment
containing an error is read (as is the case for Relay&#x27;s <code>@throwOnFieldError</code>
directive), or by preventing any data from being read if an error occurred (as
with Apollo Client&#x27;s <code>errorPolicy: &quot;none&quot;</code>).</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Error-handling clients are the future</div><div class="admonitionContent_BuS1"><p>Reproducing server errors on the client like this allows your developers to use
your language or framework&#x27;s native error handling mechanisms, whether that be
<code>try</code>/<code>catch</code> or <code>&lt;ErrorBoundary /&gt;</code> or whatever your language/framework
supports. No need for GraphQL-specific error handling within your components!</p><p>You can likely make your existing client an error-handling client today by
integrating <code>graphql-toe</code>, it&#x27;s only 512 bytes gzipped! (You can also just
integrate the source code, it&#x27;s less than 100 LOC in TypeScript and is MIT
licensed.)</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disabling-error-propagation-and-reflecting-true-nullability">Disabling error propagation and reflecting true nullability<a href="#disabling-error-propagation-and-reflecting-true-nullability" class="hash-link" aria-label="Direct link to Disabling error propagation and reflecting true nullability" title="Direct link to Disabling error propagation and reflecting true nullability">​</a></h3>
<p>If the client were to take responsibility for error handling by disabling null
bubbling and implementing a &quot;throw on error&quot; or similar behavior, we could
reflect the data&#x27;s true nullability in the schema:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Query type</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">you</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token attr-name" style="color:#00a4db">me</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># True nullability; client handles errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Hooray for fewer null checks! 🎉</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Before 😞</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">me</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">User</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">user</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">data</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">me</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// TODO: determine if this was an error null,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// or just a non-existent user.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">NotFoundOrError</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">After 🤩</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">User</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">user</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">data</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">me</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>(Example assumes that your React application is already using
<code>&lt;ErrorBoundary /&gt;</code> in a parent component.)</em></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Try it today!</div><div class="admonitionContent_BuS1"><p>Some GraphQL engines already support clients disabling error propagation via the
<code>@experimental_disableErrorPropagation</code> operation directive; but make sure that
you only use this with an error-handling client or you may get unexpected
results!</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supporting-legacy-clients">Supporting legacy clients<a href="#supporting-legacy-clients" class="hash-link" aria-label="Direct link to Supporting legacy clients" title="Direct link to Supporting legacy clients">​</a></h3>
<p>What does this mean for our existing deployed applications, for example mobile
apps on legacy devices that can no longer be updated? This is certainly a
critical concern for organizations such as Facebook!</p>
<p>If we introduce non-null in more places, this would have the effect of making
existing deployed applications less resilient to errors since errors will now
destroy even more of the returned data. For example, an application such as this
one that handles errors at the widget level:</p>
<img alt="A legacy mobile application rendering many widgets, one of which has errored" src="/assets/images/legacy-app-widget-error-f6a951aaa00bd77625edcfdb4e39acc0.png" style="max-width:250px">
<p>might result in a full page error if we simply marked the type as non-nullable:</p>
<img alt="A legacy mobile application rendering a full-page error" src="/assets/images/legacy-app-fullscreen-error-e5127ef2c205d1091652a777bdc4ba94.png" style="max-width:250px">
<p>This is much less useful for the user!</p>
<p><em>(Thanks to v0 for generating these app mockups for me!)</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-transitional-non-null-type">The &quot;transitional non-null&quot; type<a href="#the-transitional-non-null-type" class="hash-link" aria-label="Direct link to The &quot;transitional non-null&quot; type" title="Direct link to The &quot;transitional non-null&quot; type">​</a></h3>
<p>To support these legacy apps, I propose a &quot;<strong>transitional</strong> non-null&quot; type,
represented by the wildcard symbol <code>*</code>, that changes to either be nullable (<code>T*</code>
⇒ <code>T</code>) for legacy/traditional apps or non-nullable (<code>T*</code> ⇒ <code>T!</code>) for
our future &quot;error handling clients&quot;.</p>
<img alt="Legacy and future apps side by side, handling errors gracefully thanks to transitional non-null type" src="/assets/images/everyones-happy-6d890589e55871ad639a56c800648cf7.png" style="max-width:500px;width:100%">
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Use <code>graphql-sock</code> to convert these types</div><div class="admonitionContent_BuS1"><p><a href="https://github.com/graphile/graphql-sock" target="_blank" rel="noopener noreferrer"><code>graphql-sock</code></a> is an npm module that
provides a CLI and TypeScript library capable of converting a &quot;semantic
nullability&quot; schema (that is to say one that supports the &quot;semantic non null&quot;
aka &quot;transitional non null&quot; type) into a schema with traditional syntax, either
by removing the semantic non-nullability for legacy clients
(<code>semantic-to-nullable</code>) or by replacing transitional/semantic non-null with the
traditional (strict) non-null for error-handling clients (<code>semantic-to-strict</code>).</p><p>Use it today to support both your legacy (<code>semantic-to-nullable</code>) and
error-handling (<code>semantic-to-strict</code>) applications&#x27; codegen, linting, and
similar needs.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-app-no-new-syntax">New app? No new syntax!<a href="#new-app-no-new-syntax" class="hash-link" aria-label="Direct link to New app? No new syntax!" title="Direct link to New app? No new syntax!">​</a></h3>
<p>The best part about this? If you&#x27;re starting a new project from scratch and only
want to support error-handling clients, you&#x27;ll never need to add this symbol or
any new directives to your schema or anywhere else! But with it, existing
schemas can allow new apps to leverage true nullability in the schema, without
breaking existing clients. Everybody wins!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="current-status---disabling-error-propagation">Current status - disabling error propagation<a href="#current-status---disabling-error-propagation" class="hash-link" aria-label="Direct link to Current status - disabling error propagation" title="Direct link to Current status - disabling error propagation">​</a></h3>
<p><em>Last updated: 2025-03-26</em></p>
<p>Generally agreed that the future of GraphQL in one in which error propagation is
disabled. The mechanics of it, particularly recognising that we need to support
legacy clients, are still under discussion.</p>
<ul>
<li>Originally proposed as a directive
(<a href="https://github.com/graphql/graphql-spec/pull/1050" target="_blank" rel="noopener noreferrer">spec edits</a>) - currently
<code>@disableErrorPropagation</code></li>
<li>Currently, Benjie proposes this should be a request (in the GraphQL sense, not
necessarily the HTTP sense) parameter:
<a href="https://github.com/graphql/nullability-wg/discussions/86" target="_blank" rel="noopener noreferrer">https://github.com/graphql/nullability-wg/discussions/86</a></li>
<li>There&#x27;s discussion around whether clients that reject the entire response on
any error should get their own &quot;behavior&quot;, e.g. <code>@behavior(onError: ABORT)</code> -
this would increase server efficiency, and prevent sending unnecessary data
over the wire that the client would ignore anyway.</li>
</ul>
<p>The <code>@experimental_disableErrorPropagation</code> directive can be used to experiment
with disabling error propagation without any further impact, and will be
available in the next releases of:</p>
<ul>
<li><a href="https://github.com/graphql/graphql-js/pull/4348" target="_blank" rel="noopener noreferrer">graphql-js</a></li>
<li><a href="https://github.com/graphql-java/graphql-java/pull/3772" target="_blank" rel="noopener noreferrer">graphql-java</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="current-status---semantic-nullability">Current status - semantic nullability<a href="#current-status---semantic-nullability" class="hash-link" aria-label="Direct link to Current status - semantic nullability" title="Direct link to Current status - semantic nullability">​</a></h3>
<p><strong>THIS IS BENJIE&#x27;S OPINION, FOR TRUE STATUS SEE
<a href="https://github.com/graphql/graphql-wg/blob/main/rfcs/SemanticNullability.md" target="_blank" rel="noopener noreferrer">THE RFC DOCUMENT</a>!</strong></p>
<p><em>Last updated: 2025-03-26</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="specification">Specification<a href="#specification" class="hash-link" aria-label="Direct link to Specification" title="Direct link to Specification">​</a></h4>
<p>To deal with the legacy clients problem, the working group has generally
solidified around the concept of a &quot;semantic non-nullable&quot; type that can be
thought of as &quot;null only on error&quot; - i.e. it will never be <code>null</code> unless an
error has occurred (and been noted in the <code>&quot;errors&quot;</code> list).</p>
<p>However, how this is presented via the SDL is under heavy discussion. There are
currently
<a href="https://github.com/graphql/graphql-wg/blob/main/rfcs/SemanticNullability.md#-possible-solutions" target="_blank" rel="noopener noreferrer">6 solutions</a>
being discussed.</p>
<ol>
<li>
<p><strong>Semantic non-null, represented by <code>*</code></strong></p>
<ul>
<li><strong>Champion</strong>: Benjie</li>
<li><strong>Status</strong>: Preferred by Benjie, outdated.</li>
<li><strong>Spec edits</strong>: <a href="https://github.com/graphql/graphql-spec/pull/1065" target="_blank" rel="noopener noreferrer">https://github.com/graphql/graphql-spec/pull/1065</a></li>
<li><strong>Reference implementation</strong>:
<a href="https://github.com/graphql/graphql-js/pull/4192" target="_blank" rel="noopener noreferrer">https://github.com/graphql/graphql-js/pull/4192</a> - available via
<code>graphql@canary-pr-4192</code></li>
<li>An outdated version of what is proposed above.</li>
<li><strong>TODO</strong>: update this!</li>
</ul>
</li>
<li>
<p><strong>Strict Semantic Nullability</strong></p>
<ul>
<li><strong>Champion</strong>: Lee Byron</li>
<li><strong>Status</strong>: Rejected by Lee</li>
<li><strong>Spec edits</strong>: none</li>
<li><strong>Reference implementation</strong>: none</li>
<li>This proposal choose to break the &quot;nullable by default&quot; tradition in
favour of representing nullable with a <code>?</code>: nullable (<code>T?</code>), semantically
non-nullable (<code>T</code>) and strictly non-nullable (<code>T!</code>)strictly non-nullable
(<code>T!</code>), and does so by introducing a directive on the schema to indicate
this.</li>
<li>Benjie believes it&#x27;s non-viable for a number of reasons, chiefly that it
doesn&#x27;t consider what it means for executable documents (how do clients
define variables?), and none of the three solutions to executable
documents seem desirable.</li>
</ul>
</li>
<li>
<p><strong>Semantic non-null usurps <code>!</code> syntax, strict non-null uses <code>!!</code></strong></p>
<ul>
<li><strong>Champion</strong>: Benjie</li>
<li><strong>Status</strong>: On hold, since solution 1 is currently preferred by Benjie.</li>
<li><strong>Spec edits</strong>: none</li>
<li><strong>Reference implementation</strong>: none</li>
<li>This was a derivative of solution 1 to attempt to address concerns that
the <code>*</code> syntax was non-obvious.</li>
<li>It requires a document directive to opt in to the new syntax (otherwise
<code>!</code> will continue to mean strict non-null).</li>
<li>Client documents need not change.</li>
<li>It recognises the two modes laid out in this article, but tries to move
towards a future where every schema only uses semantically non-null types,
and the legacy strict non-null is phased out.</li>
<li>Benjie doesn&#x27;t currently prefer this because he agrees with solution 5 -
the future of GraphQL uses its current syntax, and doesn&#x27;t need a
<code>&quot;use strict&quot;</code>-style pragma at the top of every document.</li>
</ul>
</li>
<li>
<p><strong>Unadorned becomes semantic non-null, nullable represented by <code>?</code></strong></p>
<ul>
<li><strong>Champion</strong>: None (currently Alex Reilly is representing)</li>
<li><strong>Status</strong>: Unknown</li>
<li><strong>Spec edits</strong>: none</li>
<li><strong>Reference implementation</strong>:
<a href="https://github.com/graphql/graphql-js/pull/4337" target="_blank" rel="noopener noreferrer">https://github.com/graphql/graphql-js/pull/4337</a></li>
<li>This is an expansion of solution 2 that moves the directive from the
schema to the document.</li>
<li>Benjie dislikes it because:<!-- -->
<ul>
<li>Data is nullable by default, but this makes data semantically
non-nullable by default.</li>
<li>The unadorned type cannot be migrated to other types (specifically the
<code>T?</code> nullable type) in a non-breaking way, so schema authors will have
to be extra careful that they have remembered to mark up every type
correctly - they can&#x27;t fix it later by adding a symbol.</li>
<li>If <code>?</code> means nullable in the SDL and unadorned means non-nullable, what
does this mean for existing executable documents where unadorned means
nullable?<!-- -->
<ul>
<li>Should executable documents use <code>@semanticNullability</code> and use
<code>?</code>/unadorned, or should they continue to use unadorned/<code>!</code>?</li>
<li>Will this cause a split in the GraphQL ecosystem over best practices
around this?</li>
</ul>
</li>
<li>Having the meaning of unadorned suddenly mean the opposite of what it
did before (nullable ⇒ non-nullable) based on the presence of a
directive at the top of the document is super confusing.</li>
<li>Spec implementation is complex.</li>
<li>Reference implementation is complex.</li>
<li>Updating all the &quot;nullable by default&quot; documentation across the last
decade for GraphQL is not desirable.</li>
<li>Newbies to GraphQL will be super confused.</li>
<li>I think this would be one of the worst possible moves that GraphQL could
make.</li>
<li>I would much rather see a &quot;GraphQL 2.0&quot; that disables null bubbling
(and, if you like, gets rid of the <code>!</code> syntax in favour of <code>?</code>) than see
GraphQL enter this state.</li>
<li><em>Increasingly incoherent &quot;old man yells at cloud&quot; noises.</em></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Just use <code>!</code> for semantically non-nullable</strong></p>
<ul>
<li><strong>Champion</strong>: Martin Bonnin</li>
<li><strong>Status</strong>: Actively proposed</li>
<li><strong>Spec edits</strong>: no action needed!</li>
<li><strong>Reference implementation</strong>: no action needed!</li>
<li>Martin thinks we should just use the existing non-null in semantically
non-nullable places, relying on the ability to disable error propagation
for all future clients.</li>
<li>This proposal is extremely compelling, it feels like it should be the
future of GraphQL, and it recognises that error propagation was probably a
mistake and just turning that off should be enough to fix our woes.</li>
<li>Unfortunately, as laid out <a href="#supporting-legacy-clients">above</a>, this would
be a major shift in behavior for existing deployed clients resulting in
error boundaries moving towards the root of the operation, causing legacy
clients that cannot be updated to be less resilient to errors.</li>
<li>This sparked Benjie&#x27;s reframing of solution 1 as presented in this
article.</li>
</ul>
</li>
<li>
<p><strong><code>@semanticNonNull</code> directive</strong></p>
<ul>
<li><strong>Champion</strong>: None (the nullability WG designed this together as an
interrim solution)</li>
<li><strong>Status</strong>: Interrim solution, implemented in a number of runtimes</li>
<li><strong>Spec edits</strong>: None (though solution 1 could be changed to doing this
with very few edits)</li>
<li><strong>Reference implementation</strong>: None (though solution 1 could be changed to
doing this with very few edits)</li>
<li><strong>Community spec</strong>:
<a href="https://specs.apollo.dev/nullability/v0.4/#@semanticNonNull" target="_blank" rel="noopener noreferrer">https://specs.apollo.dev/nullability/v0.4/#@semanticNonNull</a></li>
<li>Essentially this is solution 1, but instead of introducing a <code>*</code> character
(e.g. <code>[T*]*</code>) we use a directive to indicate semantic nullability
(<code>[T] @semanticNonNull(levels: [0, 1])</code>)</li>
<li>Does everything that solution 1 does, except for the convenient syntax.</li>
<li>Directives already exist, so we don&#x27;t need to debate syntax!</li>
<li>Benjie&#x27;s opinion:<!-- -->
<ul>
<li>Given this is essentially solution 1 but without the syntax changes, I
support it...</li>
<li>Do we really hate <code>*</code> syntax so much that we&#x27;d rather type
<code>@semanticNonNull(levels: [0, 1])</code> than adding two <code>*</code> characters?</li>
<li>I currently see this as being implemented in the same way as solution 1;
<strong>however</strong>, it could be implemented as schema metadata and thus never
actually enter the specification.<!-- -->
<ul>
<li>It needs support in both server and client, so it feels like it should
be part of the spec.</li>
<li>Keeping it as schema metadata would require a solution to the infamous
<a href="https://github.com/graphql/graphql-spec/issues/300" target="_blank" rel="noopener noreferrer">#300</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="server-support">Server support<a href="#server-support" class="hash-link" aria-label="Direct link to Server support" title="Direct link to Server support">​</a></h4>
<p>Users can manually mark up schemas with <code>@semanticNonNull</code> for use by
<code>graphql-sock</code>, <code>graphql-code-generator</code> and other tools.</p>
<p>Native support for semantic nullability is available in the following GraphQL
implementations:</p>
<ul>
<li><code>graphql@canary-pr-4192</code> has support for the <code>*</code> syntax for semantic
nullability</li>
<li>Grats has support for <code>@semanticNonNull</code> in
<a href="https://grats.capt.dev/docs/guides/strict-semantic-nullability/" target="_blank" rel="noopener noreferrer">v0.0.32</a></li>
<li>Hot Chocolate has support for <code>@semanticNonNull</code> as of
<a href="https://github.com/ChilliCream/graphql-platform/releases/tag/14.2.0" target="_blank" rel="noopener noreferrer">v14.2.0</a></li>
<li>Caliban supports <code>@semanticNonNull</code>: <a href="https://ghostdogpr.github.io/caliban/docs/schema.html#semanticnonnull-support" target="_blank" rel="noopener noreferrer">https://ghostdogpr.github.io/caliban/docs/schema.html#semanticnonnull-support</a></li>
<li>Strawberry is <a href="https://github.com/strawberry-graphql/strawberry/pull/3722" target="_blank" rel="noopener noreferrer">working on support for semantic nullability</a></li>
<li>async-graphql is <a href="https://github.com/async-graphql/async-graphql/issues/1605" target="_blank" rel="noopener noreferrer">working on support for @semanticNonNull</a></li>
<li>gqlgen is has <a href="https://github.com/99designs/gqlgen/issues/3396" target="_blank" rel="noopener noreferrer">an issue tracking this desire</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="client-support">Client support<a href="#client-support" class="hash-link" aria-label="Direct link to Client support" title="Direct link to Client support">​</a></h4>
<p>Most clients can become error-handling clients by integrating
<a href="https://github.com/graphile/graphql-toe" target="_blank" rel="noopener noreferrer"><code>graphql-toe</code></a>.</p>
<ul>
<li>Graffle, fetch, and other simple clients have examples in the graphql-toe
<code>README</code></li>
<li>Apollo Client has an example of <code>useTOEQuery()</code> (to replace <code>useQuery()</code>) in
the graphql-toe <code>README</code></li>
<li>URQL has <code>@urql/exchange-throw-on-error</code> that integrates <code>graphql-toe</code></li>
<li>Relay users should use <code>@throwOnFieldError</code> instead</li>
<li>Apollo Kotlin has native support for <code>@catch</code></li>
</ul>
<p>Most clients can use <a href="https://github.com/graphile/graphql-sock" target="_blank" rel="noopener noreferrer"><code>graphql-sock</code></a>
to convert a semantic nullability schema into a nullable
(<code>semantic-to-nullable</code>) schema for legacy clients, or a strict
(<code>semantic-to-strict</code>) schema for error handling clients, for the purposes of
code generation, linting, and other needs.</p>
<ul>
<li>GraphQL code generator has support for <code>@semanticNonNull</code> (any version) and
the <code>*</code> syntax (if you&#x27;re using <code>graphql@canary-pr-4192</code>) in the
<a href="https://github.com/dotansimha/graphql-code-generator/pull/10323" target="_blank" rel="noopener noreferrer">latest alpha</a>
via <code>graphql-sock</code>.</li>
<li>Relay has built in support for code generation respecting semantic nullability
on a per-fragment and per-field basis as of Relay v18 via the <code>@catch</code> and
<code>@throwOnFieldError</code> directives.</li>
<li>Apollo Kotlin&#x27;s code generator has native support for <code>@semanticNonNull</code> and
<code>@catch</code></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/graphql/naming"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Naming Conventions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/graphql/nested-mutations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Nested Mutations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#by-default-data-doesnt-exist" class="table-of-contents__link toc-highlight">By default, data doesn&#39;t exist</a></li><li><a href="#partial-success" class="table-of-contents__link toc-highlight">Partial success</a></li><li><a href="#error-propagation-aka-null-bubbling" class="table-of-contents__link toc-highlight">Error propagation (aka null bubbling)</a></li><li><a href="#schema-best-practice" class="table-of-contents__link toc-highlight">Schema best practice?</a></li><li><a href="#handling-errors-on-the-client" class="table-of-contents__link toc-highlight">Handling errors on the client</a></li><li><a href="#disabling-error-propagation-and-reflecting-true-nullability" class="table-of-contents__link toc-highlight">Disabling error propagation and reflecting true nullability</a></li><li><a href="#supporting-legacy-clients" class="table-of-contents__link toc-highlight">Supporting legacy clients</a></li><li><a href="#the-transitional-non-null-type" class="table-of-contents__link toc-highlight">The &quot;transitional non-null&quot; type</a></li><li><a href="#new-app-no-new-syntax" class="table-of-contents__link toc-highlight">New app? No new syntax!</a></li><li><a href="#current-status---disabling-error-propagation" class="table-of-contents__link toc-highlight">Current status - disabling error propagation</a></li><li><a href="#current-status---semantic-nullability" class="table-of-contents__link toc-highlight">Current status - semantic nullability</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Benjie Gillam; all rights reserved. RFC pages pull content from public GitHub issues/PRs/files/etc; this content remains owned its various authors.</div></div></div></footer></div>
</body>
</html>