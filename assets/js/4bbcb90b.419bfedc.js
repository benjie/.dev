"use strict";(self.webpackChunk_localrepo_benjie_dev=self.webpackChunk_localrepo_benjie_dev||[]).push([[6449],{8476:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>l,contentTitle:()=>n,default:()=>d,frontMatter:()=>s,metadata:()=>h,toc:()=>c});var t=a(5893),r=a(1151);const s={identifier:"1208",closedAt:null,mergedAt:null,title:"Service capabilities",stage:"0",nextStage:!0,champion:"benjie",prUrl:"https://github.com/graphql/graphql-spec/pull/1208",events:[{type:"prCreated",date:new Date("2026-01-15T10:16:31.000Z"),href:"https://github.com/graphql/graphql-spec/pull/1208",actor:"benjie"},{type:"commitsPushed",date:new Date("2026-01-15T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/5e01c0c6857a50a75c5e0968920408baeb703061",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/5e01c0c6857a50a75c5e0968920408baeb703061",headline:"Extract service capabilities",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/ccb76ed9618d02ef83a195eb20f72e86d955d26e",headline:"Reserve example.* identifiers",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/35b8067f07f77bdb7d64dee591f7d51fa0dcf7f5",headline:"Replace default capabilities",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/62583e9fbfbe926210bf4c502fc05bee3d87f107",headline:"Update syntax, add examples",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/601b84691cd4a94155def12b973ed621017a222f",headline:"Editorial",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/33a152486b7bd6172ef2037d60d0b5e320adc3ad",headline:"Extend syntax",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/6d0c2d64f4a883e2d8e9342051c4c6fb312ad7c7",headline:"Note that IANA reserved domains are also reserved",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/39b9b565daa538255e6a45586f147e0d90687d82",headline:"Clearer",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/fb440fadce5eb8fbf6ecfb65dc7073e94f6076ed",headline:"Lee suggested to not use +",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/f1659df71aad60c3d032c4042b24e145e431c16b",headline:"Move Service stuff to bottom of lists",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/9980de866257089f4f7535ebdf7c4a79567808d6",headline:"More editorial",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/e92af2935f5a2b3f7e3b5828c59184dd359dbfcf",headline:"Format",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/aa7302b6bc19da0b2de82c18adb8945b867baace",headline:"Typo",ghUser:"benjie",authorName:"Benjie Gillam"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2026/01-Jan/15-wg-primary.md",date:new Date("2026-01-15T00:00:00.000Z"),actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2026/2026-01.md",date:"2026-01",actor:null}],related:"1163, wg1887",shortname:"Service capabilities",image:"/img/rfc_tracker.png"},n=void 0,h={id:"1208",title:"Service capabilities",description:"At a glance",source:"@site/rfcs/1208.md",sourceDirName:".",slug:"/1208",permalink:"/rfcs/1208",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{identifier:"1208",closedAt:null,mergedAt:null,title:"Service capabilities",stage:"0",nextStage:!0,champion:"benjie",prUrl:"https://github.com/graphql/graphql-spec/pull/1208",events:[{type:"prCreated",date:"2026-01-15T10:16:31.000Z",href:"https://github.com/graphql/graphql-spec/pull/1208",actor:"benjie"},{type:"commitsPushed",date:"2026-01-15T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/5e01c0c6857a50a75c5e0968920408baeb703061",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/5e01c0c6857a50a75c5e0968920408baeb703061",headline:"Extract service capabilities",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/ccb76ed9618d02ef83a195eb20f72e86d955d26e",headline:"Reserve example.* identifiers",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/35b8067f07f77bdb7d64dee591f7d51fa0dcf7f5",headline:"Replace default capabilities",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/62583e9fbfbe926210bf4c502fc05bee3d87f107",headline:"Update syntax, add examples",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/601b84691cd4a94155def12b973ed621017a222f",headline:"Editorial",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/33a152486b7bd6172ef2037d60d0b5e320adc3ad",headline:"Extend syntax",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/6d0c2d64f4a883e2d8e9342051c4c6fb312ad7c7",headline:"Note that IANA reserved domains are also reserved",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/39b9b565daa538255e6a45586f147e0d90687d82",headline:"Clearer",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/fb440fadce5eb8fbf6ecfb65dc7073e94f6076ed",headline:"Lee suggested to not use +",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/f1659df71aad60c3d032c4042b24e145e431c16b",headline:"Move Service stuff to bottom of lists",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/9980de866257089f4f7535ebdf7c4a79567808d6",headline:"More editorial",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/e92af2935f5a2b3f7e3b5828c59184dd359dbfcf",headline:"Format",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/aa7302b6bc19da0b2de82c18adb8945b867baace",headline:"Typo",ghUser:"benjie",authorName:"Benjie Gillam"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2026/01-Jan/15-wg-primary.md",date:"2026-01-15T00:00:00.000Z",actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2026/2026-01.md",date:"2026-01",actor:null}],related:"1163, wg1887",shortname:"Service capabilities",image:"/img/rfc_tracker.png"},sidebar:"rfcsSidebar",previous:{title:"Add support for directives on directives",permalink:"/rfcs/907"},next:{title:"Add Schema Coordinate to GraphQL Errors",permalink:"/rfcs/1200"}},l={},c=[{value:"At a glance",id:"at-a-glance",level:2},{value:"Timeline",id:"timeline",level:2},{value:"Motivation",id:"motivation",level:3},{value:"Why &quot;capabilities&quot; not &quot;metadata&quot;?",id:"why-capabilities-not-metadata",level:3},{value:"Design",id:"design",level:3},{value:"SDL syntax",id:"sdl-syntax",level:3},{value:"Capability identifiers",id:"capability-identifiers",level:3}];function o(e){const i={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"at-a-glance",children:"At a glance"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Identifier"}),": #1208"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Stage"}),": ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-0-strawman",children:"RFC0: Strawman"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Champion"}),": ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"PR"}),": ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/pull/1208",children:"Service capabilities"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Related"}),":","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"/rfcs/1163",title:"Allow clients to disable error propagation via request parameter (take 2) / RFC1",children:"#1163"})," (Allow clients to disable error propagation via request parameter (take 2))"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"timeline",children:"Timeline"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsxs)(i.strong,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/pull/1208",children:"Spec PR"})," created"]})," on 2026-01-15 by benjie"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"13 commits pushed"})," on 2026-01-15:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/5e01c0c6857a50a75c5e0968920408baeb703061",children:"Extract service capabilities"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/ccb76ed9618d02ef83a195eb20f72e86d955d26e",children:"Reserve example.* identifiers"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/35b8067f07f77bdb7d64dee591f7d51fa0dcf7f5",children:"Replace default capabilities"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/62583e9fbfbe926210bf4c502fc05bee3d87f107",children:"Update syntax, add examples"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/601b84691cd4a94155def12b973ed621017a222f",children:"Editorial"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/33a152486b7bd6172ef2037d60d0b5e320adc3ad",children:"Extend syntax"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/6d0c2d64f4a883e2d8e9342051c4c6fb312ad7c7",children:"Note that IANA reserved domains are also reserved"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/39b9b565daa538255e6a45586f147e0d90687d82",children:"Clearer"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/fb440fadce5eb8fbf6ecfb65dc7073e94f6076ed",children:"Lee suggested to not use +"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/f1659df71aad60c3d032c4042b24e145e431c16b",children:"Move Service stuff to bottom of lists"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/9980de866257089f4f7535ebdf7c4a79567808d6",children:"More editorial"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/e92af2935f5a2b3f7e3b5828c59184dd359dbfcf",children:"Format"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/commit/aa7302b6bc19da0b2de82c18adb8945b867baace",children:"Typo"})," by ",(0,t.jsx)(i.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsxs)(i.strong,{children:["Added to ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2026/01-Jan/15-wg-primary.md",children:"2026-01-15 WG agenda"})]})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsxs)(i.strong,{children:["Mentioned in ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-wg/blob/main/notes/2026/2026-01.md",children:"2026-01 WG notes"})]})}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"(Extracted and reworked from the error behaviors PR (#1163) to stand alone, since it has broader utility and can progress faster alone.)"})}),"\n",(0,t.jsx)(i.p,{children:'This PR introduces "service capabilities" - a mechanism for GraphQL services to advertise features and configuration that exist outside the type system - for example support for syntax features (executable descriptions, fragment arguments, document directives, etc), details of transport support (websocket endpoint, SSE endpoint, how to be notified of new schema versions), and other details that can enable automated client configuration.'}),"\n",(0,t.jsx)(i.h3,{id:"motivation",children:"Motivation"}),"\n",(0,t.jsxs)(i.p,{children:["In addition to being a prerequisite of the ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-spec/pull/1163",children:"error behaviors"})," proposal, this is a desired feature for composite schemas and a key component of ",(0,t.jsx)(i.a,{href:"https://github.com/graphql/graphql-wg/issues/1887",children:"The GraphQL Golden Path Initiative"})," (specifically enabling ",(0,t.jsx)(i.strong,{children:"client auto-configuration"}),")."]}),"\n",(0,t.jsx)(i.p,{children:'The goal is that a user can point tooling at a GraphQL endpoint and much of the configuration can be implied based on the service\'s advertised capabilities - this massively reduces the amount of "out of band" communication required.'}),"\n",(0,t.jsx)(i.p,{children:"Example use cases:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Does the service support fragment arguments, or must the client transpile them?"}),"\n",(0,t.jsx)(i.li,{children:"Does it support customizing error propagation behavior?"}),"\n",(0,t.jsx)(i.li,{children:"Are subscriptions available over WebSockets? If so, what endpoint and protocol?"}),"\n",(0,t.jsxs)(i.li,{children:["Does it support incremental delivery (",(0,t.jsx)(i.code,{children:"@defer"}),"/",(0,t.jsx)(i.code,{children:"@stream"}),")? Which version?"]}),"\n",(0,t.jsx)(i.li,{children:"Does it support automated document persistence? Which protocol?"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"why-capabilities-not-metadata",children:'Why "capabilities" not "metadata"?'}),"\n",(0,t.jsx)(i.p,{children:'Capabilities inform automated tooling/client decisions and actions. Metadata is ancillary and often intended for human consumption. The name "capabilities" is intentional - it signals the purpose and discourages using this system as a dumping ground for arbitrary metadata. Every capability should be actionable by clients or tooling.'}),"\n",(0,t.jsx)(i.h3,{id:"design",children:"Design"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Introspection"})," via ",(0,t.jsx)(i.code,{children:"__service: __Service"})," meta-field (similar to ",(0,t.jsx)(i.code,{children:"__schema: __Schema"}),"):"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-graphql",children:"type __Service {\n  capabilities: [__Capability!]!\n}\n\ntype __Capability {\n  identifier: String!\n  description: String\n  value: String\n}\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Support can be probed via: ",(0,t.jsx)(i.code,{children:'{ __type(name: "__Service") { name } }'})," - if no result, then the service does not support service capabilities."]}),"\n",(0,t.jsx)(i.h3,{id:"sdl-syntax",children:"SDL syntax"}),"\n",(0,t.jsx)(i.p,{children:"Slightly changed from previous proposals, here's the syntax I now propose:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-graphql",children:'service {\n  "Descriptions on operations and fragments are supported"\n  capability graphql.operationDescriptions\n\n  "WebSocket transport is supported via the given endpoint"\n  capability example.transport.ws("wss://api.example.com/graphql")\n}\n\nextend service {\n  capability com.example.customFeature\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Notes on this choice:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'Capabilities without "values" should look neat'}),"\n",(0,t.jsxs)(i.li,{children:["Capabilities with values followed by capabilities without descriptions should not introduce easy syntax clashes (",(0,t.jsx)(i.code,{children:'service { capability foo.bar "Value" capability foo.baz }'})," would apply ",(0,t.jsx)(i.code,{children:'"Value"'})," as the description for ",(0,t.jsx)(i.code,{children:"foo.baz"})," rather than the value for ",(0,t.jsx)(i.code,{children:"foo.bar"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["The ",(0,t.jsx)(i.code,{children:"extend"})," syntax feels very natural"]}),"\n",(0,t.jsx)(i.li,{children:"Avoids double-nesting of curly braces"}),"\n",(0,t.jsxs)(i.li,{children:["Leaves space for additional ",(0,t.jsx)(i.code,{children:"service"})," properties in future"]}),"\n",(0,t.jsx)(i.li,{children:"Inserting other keywords between capabilities is acceptable, in the same way that inserting different directives between repeatable directives is acceptable"}),"\n",(0,t.jsxs)(i.li,{children:["A directive-based syntax could be used (",(0,t.jsx)(i.code,{children:'service @capability(identifier: "...", value: "...")'}),"), but the ",(0,t.jsx)(i.code,{children:"service"})," keyword already introduces new syntax so it doesn't seem necessary to be constrained to using ugly directives when a neater and more palatable syntax is available; this also allows for descriptions for each capability."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"capability-identifiers",children:"Capability identifiers"}),"\n",(0,t.jsxs)(i.p,{children:["A ",(0,t.jsx)(i.code,{children:"QualifiedName"})," syntax (",(0,t.jsx)(i.code,{children:"Name(.Name)+"}),") inspired by reverse-domain notation encourages global uniqueness. The ",(0,t.jsx)(i.code,{children:"graphql."})," prefix is reserved for official GraphQL Foundation specifications (not just the main spec; e.g. ",(0,t.jsx)(i.code,{children:"graphql.http.*"})," could be used by the GraphQL-over-HTTP spec)."]}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},1151:(e,i,a)=>{a.d(i,{Z:()=>h,a:()=>n});var t=a(7294);const r={},s=t.createContext(r);function n(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function h(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);