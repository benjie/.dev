"use strict";(self.webpackChunk_localrepo_benjie_dev=self.webpackChunk_localrepo_benjie_dev||[]).push([[9324],{7583:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>h,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var i=a(5893),n=a(1151);const r={identifier:"987",title:"Fix ambiguity around when schema definition may be omitted",stage:"3",champion:"benjie",prUrl:"https://github.com/graphql/graphql-spec/pull/987",events:[{type:"commitsPushed",date:new Date("2023-02-09T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/058b4ec190b01834d3a44647b87795235d925d24",actor:"leebyron",commits:[{href:"https://github.com/graphql/graphql-spec/commit/058b4ec190b01834d3a44647b87795235d925d24",headline:"add related definition and specific example",ghUser:"leebyron",authorName:"Lee Byron"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/08-wg-secondary-apac.md",date:new Date("2023-02-08T00:00:00.000Z"),actor:null},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/02-wg-primary.md",date:new Date("2023-02-02T00:00:00.000Z"),actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-02.md",date:"2023-02",actor:null},{type:"commitsPushed",date:new Date("2022-09-03T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/442b75a6fbab516d75725d137e17deed099b6fee",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/442b75a6fbab516d75725d137e17deed099b6fee",headline:"default root operation type name -> default operation type name",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/eea37f81813dbec49c5a71c22531ff9a597a0a2a",headline:"default operation type name -> default root type name",ghUser:"benjie",authorName:"Benjie Gillam"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-09-01.md",date:new Date("2022-09-01T00:00:00.000Z"),actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-09-01.md",date:new Date("2022-09-01T00:00:00.000Z"),actor:null},{type:"prCreated",date:new Date("2022-08-04T11:10:13.000Z"),href:"https://github.com/graphql/graphql-spec/pull/987",actor:"benjie"},{type:"commitsPushed",date:new Date("2022-08-04T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/25868d4c2e524f30272966fc7d33a89cdfcaa6f1",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/25868d4c2e524f30272966fc7d33a89cdfcaa6f1",headline:"Fix ambiguity when discussing the schema definition",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/170c3322f6985e043f56f465bb3d354b52c4b97b",headline:"Further clarification",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/13f872ee78de680e70414085e096070b333d4b9f",headline:"Alternative wording",ghUser:"benjie",authorName:"Benjie Gillam"}]}],shortname:"Fix ambiguity around when schema definition may be omitted",image:"/img/rfc_tracker.png",closedAt:new Date("2023-02-09T19:26:02.000Z"),mergedAt:new Date("2023-02-09T19:26:02.000Z"),mergedBy:"leebyron"},h=void 0,o={id:"987",title:"Fix ambiguity around when schema definition may be omitted",description:"At a glance",source:"@site/rfcs/987.md",sourceDirName:".",slug:"/987",permalink:"/rfcs/987",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{identifier:"987",title:"Fix ambiguity around when schema definition may be omitted",stage:"3",champion:"benjie",prUrl:"https://github.com/graphql/graphql-spec/pull/987",events:[{type:"commitsPushed",date:"2023-02-09T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/058b4ec190b01834d3a44647b87795235d925d24",actor:"leebyron",commits:[{href:"https://github.com/graphql/graphql-spec/commit/058b4ec190b01834d3a44647b87795235d925d24",headline:"add related definition and specific example",ghUser:"leebyron",authorName:"Lee Byron"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/08-wg-secondary-apac.md",date:"2023-02-08T00:00:00.000Z",actor:null},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/02-wg-primary.md",date:"2023-02-02T00:00:00.000Z",actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-02.md",date:"2023-02",actor:null},{type:"commitsPushed",date:"2022-09-03T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/442b75a6fbab516d75725d137e17deed099b6fee",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/442b75a6fbab516d75725d137e17deed099b6fee",headline:"default root operation type name -> default operation type name",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/eea37f81813dbec49c5a71c22531ff9a597a0a2a",headline:"default operation type name -> default root type name",ghUser:"benjie",authorName:"Benjie Gillam"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-09-01.md",date:"2022-09-01T00:00:00.000Z",actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-09-01.md",date:"2022-09-01T00:00:00.000Z",actor:null},{type:"prCreated",date:"2022-08-04T11:10:13.000Z",href:"https://github.com/graphql/graphql-spec/pull/987",actor:"benjie"},{type:"commitsPushed",date:"2022-08-04T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/25868d4c2e524f30272966fc7d33a89cdfcaa6f1",actor:"benjie",commits:[{href:"https://github.com/graphql/graphql-spec/commit/25868d4c2e524f30272966fc7d33a89cdfcaa6f1",headline:"Fix ambiguity when discussing the schema definition",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/170c3322f6985e043f56f465bb3d354b52c4b97b",headline:"Further clarification",ghUser:"benjie",authorName:"Benjie Gillam"},{href:"https://github.com/graphql/graphql-spec/commit/13f872ee78de680e70414085e096070b333d4b9f",headline:"Alternative wording",ghUser:"benjie",authorName:"Benjie Gillam"}]}],shortname:"Fix ambiguity around when schema definition may be omitted",image:"/img/rfc_tracker.png",closedAt:"2023-02-09T19:26:02.000Z",mergedAt:"2023-02-09T19:26:02.000Z",mergedBy:"leebyron"},sidebar:"rfcsSidebar",previous:{title:"Be strict about error paths format",permalink:"/rfcs/1073"},next:{title:"Add explanation about argument name uniqueness.",permalink:"/rfcs/891"}},s={},c=[{value:"At a glance",id:"at-a-glance",level:2},{value:"Timeline",id:"timeline",level:2}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"at-a-glance",children:"At a glance"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Identifier"}),": #987"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Stage"}),": ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-3-accepted",children:"RFC3: Accepted"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Champion"}),": ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"PR"}),": ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/987",children:"Fix ambiguity around when schema definition may be omitted"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"timeline",children:"Timeline"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Commit pushed"}),": ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/058b4ec190b01834d3a44647b87795235d925d24",children:"add related definition and specific example"})," on 2023-02-09 by ",(0,i.jsx)(t.a,{href:"https://github.com/leebyron",children:"@leebyron"})]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.strong,{children:["Added to ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/08-wg-secondary-apac.md",children:"2023-02-08 WG agenda"})]})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.strong,{children:["Added to ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/02-Feb/02-wg-primary.md",children:"2023-02-02 WG agenda"})]})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.strong,{children:["Mentioned in ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-02.md",children:"2023-02 WG notes"})]})}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"2 commits pushed"})," on 2022-09-03:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/442b75a6fbab516d75725d137e17deed099b6fee",children:"default root operation type name -> default operation type name"})," by ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/eea37f81813dbec49c5a71c22531ff9a597a0a2a",children:"default operation type name -> default root type name"})," by ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.strong,{children:["Added to ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-09-01.md",children:"2022-09-01 WG agenda"})]})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.strong,{children:["Mentioned in ",(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-09-01.md",children:"2022-09-01 WG notes"})]})}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsxs)(t.strong,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/987",children:"Spec PR"})," created"]})," on 2022-08-04 by benjie"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"3 commits pushed"})," on 2022-08-04:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/25868d4c2e524f30272966fc7d33a89cdfcaa6f1",children:"Fix ambiguity when discussing the schema definition"})," by ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/170c3322f6985e043f56f465bb3d354b52c4b97b",children:"Further clarification"})," by ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/13f872ee78de680e70414085e096070b333d4b9f",children:"Alternative wording"})," by ",(0,i.jsx)(t.a,{href:"https://github.com/benjie",children:"@benjie"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["@rivantsov Pointed out in #978 that there's some ambiguity around when the ",(0,i.jsx)(t.code,{children:"schema"})," keyword can be omitted from the SDL. Upon careful reading I've noticed that there is additional ambiguity around this topic."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["While any type can be the root operation type for a GraphQL operation, the type\nsystem definition language can omit the schema definition when the {",(0,i.jsx)(t.code,{children:"query"}),"},\n{",(0,i.jsx)(t.code,{children:"mutation"}),"}, and {",(0,i.jsx)(t.code,{children:"subscription"}),'} root types are named {"Query"}, {"Mutation"},\nand {"Subscription"} respectively.']}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This seems to imply that all the root types are required in order to omit the schema definition. I've modified the text to indicate that the names only need to match for the root types that are actually present."}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Likewise, when representing a GraphQL schema using the type system definition\nlanguage, a schema definition should be omitted if it only uses the default root\noperation type names."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Imagine we're doing biological research, tracking mutations in a virus. We might have a schema like:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-graphql",children:"type Query {\n  viruses: [Virus!]\n}\ntype Virus {\n  name: String!\n  knownMutations: [Mutation!]!\n}\ntype Mutation {\n  name: String!\n  geneSequence: String!\n}\nschema {\n  query: Query\n}\n"})}),"\n",(0,i.jsx)(t.p,{children:"In this case we must not omit the schema definition when representing the schema using the SDL, because doing so would make it seem that the Mutation type was the root type for the mutation operation, when in fact the schema does not support a mutation operation."}),"\n",(0,i.jsx)(t.p,{children:"I've clarified the wording to deal with this possibility too."}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,t,a)=>{a.d(t,{Z:()=>o,a:()=>h});var i=a(7294);const n={},r=i.createContext(n);function h(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:h(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);