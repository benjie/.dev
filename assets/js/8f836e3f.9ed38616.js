"use strict";(self.webpackChunk_localrepo_benjie_dev=self.webpackChunk_localrepo_benjie_dev||[]).push([[8225],{2574:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=r(5893),i=r(1151);const a={identifier:"907",title:"Add support for directives on directives",stage:"1",champion:"IvanGoncharov",prUrl:"https://github.com/graphql/graphql-spec/pull/907",events:[{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-01-06.md",date:new Date("2022-01-06T00:00:00.000Z"),actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-01-06.md",date:new Date("2022-01-06T00:00:00.000Z"),actor:null},{type:"prCreated",date:new Date("2021-12-02T17:17:26.000Z"),href:"https://github.com/graphql/graphql-spec/pull/907",actor:"IvanGoncharov"},{type:"commitsPushed",date:new Date("2021-12-02T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/93eb69457242b2fd2d30181d6badf90032dd448b",actor:"IvanGoncharov",commits:[{href:"https://github.com/graphql/graphql-spec/commit/93eb69457242b2fd2d30181d6badf90032dd448b",headline:"Add support for directives on directives",ghUser:"IvanGoncharov",authorName:"Ivan Goncharov"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2021/2021-12-02.md",date:new Date("2021-12-02T00:00:00.000Z"),actor:null}],shortname:"Add support for directives on directives",image:"/img/rfc_tracker.png"},o=void 0,s={id:"907",title:"Add support for directives on directives",description:"At a glance",source:"@site/rfcs/907.md",sourceDirName:".",slug:"/907",permalink:"/rfcs/907",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{identifier:"907",title:"Add support for directives on directives",stage:"1",champion:"IvanGoncharov",prUrl:"https://github.com/graphql/graphql-spec/pull/907",events:[{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-01-06.md",date:"2022-01-06T00:00:00.000Z",actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-01-06.md",date:"2022-01-06T00:00:00.000Z",actor:null},{type:"prCreated",date:"2021-12-02T17:17:26.000Z",href:"https://github.com/graphql/graphql-spec/pull/907",actor:"IvanGoncharov"},{type:"commitsPushed",date:"2021-12-02T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/93eb69457242b2fd2d30181d6badf90032dd448b",actor:"IvanGoncharov",commits:[{href:"https://github.com/graphql/graphql-spec/commit/93eb69457242b2fd2d30181d6badf90032dd448b",headline:"Add support for directives on directives",ghUser:"IvanGoncharov",authorName:"Ivan Goncharov"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2021/2021-12-02.md",date:"2021-12-02T00:00:00.000Z",actor:null}],shortname:"Add support for directives on directives",image:"/img/rfc_tracker.png"},sidebar:"rfcsSidebar",previous:{title:"allow unions to declare implementation of interfaces",permalink:"/rfcs/939"},next:{title:"Allow singular variables in list locations",permalink:"/rfcs/509"}},l={},c=[{value:"At a glance",id:"at-a-glance",level:2},{value:"Timeline",id:"timeline",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Validation",id:"validation",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"at-a-glance",children:"At a glance"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Identifier"}),": #907"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Stage"}),": ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-1-proposal",children:"RFC1: Proposal"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Champion"}),": ",(0,n.jsx)(t.a,{href:"https://github.com/IvanGoncharov",children:"@IvanGoncharov"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"PR"}),": ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/907",children:"Add support for directives on directives"})]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"timeline",children:"Timeline"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsxs)(t.strong,{children:["Added to ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2022/2022-01-06.md",children:"2022-01-06 WG agenda"})]})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsxs)(t.strong,{children:["Mentioned in ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/notes/2022/2022-01-06.md",children:"2022-01-06 WG notes"})]})}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsxs)(t.strong,{children:[(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/907",children:"Spec PR"})," created"]})," on 2021-12-02 by IvanGoncharov"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Commit pushed"}),": ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/93eb69457242b2fd2d30181d6badf90032dd448b",children:"Add support for directives on directives"})," on 2021-12-02 by ",(0,n.jsx)(t.a,{href:"https://github.com/IvanGoncharov",children:"@IvanGoncharov"})]}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsxs)(t.strong,{children:["Added to ",(0,n.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2021/2021-12-02.md",children:"2021-12-02 WG agenda"})]})}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"I suggest allowing to specify directives on directives with the following syntax:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"directive @foo on DIRECTIVE_DEFINITION\ndirective @bar on FIELD @foo\n"})}),"\n",(0,n.jsx)(t.h2,{id:"motivation",children:"Motivation"}),"\n",(0,n.jsxs)(t.p,{children:["Allow applying directive-exclusive features (e.g. ",(0,n.jsx)(t.code,{children:"@specifyBy"}),", ",(0,n.jsx)(t.code,{children:"@deprecate"}),") on directives."]}),"\n",(0,n.jsx)(t.h2,{id:"validation",children:"Validation"}),"\n",(0,n.jsx)(t.p,{children:"We already have a rule in place that prevent cycles in directives"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"A directive definition must not contain the use of a directive that references itself indirectly by referencing a Type or Directive which transitively includes a reference to this directive."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://spec.graphql.org/draft/#sel-HAHnBTDDABAB_F_kC",children:"https://spec.graphql.org/draft/#sel-HAHnBTDDABAB_F_kC"})}),"\n",(0,n.jsx)(t.p,{children:'So validation is already in place and already paid "complexity cost".'}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,t,r)=>{r.d(t,{Z:()=>s,a:()=>o});var n=r(7294);const i={},a=n.createContext(i);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);