"use strict";(self.webpackChunk_localrepo_benjie_dev=self.webpackChunk_localrepo_benjie_dev||[]).push([[5491],{1682:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>o});var a=n(5893),l=n(1151);const r={identifier:"999",title:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields",stage:"S",champion:"yaacovCR",prUrl:"https://github.com/graphql/graphql-spec/pull/999",events:[{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/06-Jun/01-wg-primary.md",date:new Date("2023-06-01T00:00:00.000Z"),actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-06.md",date:"2023-06",actor:null},{type:"commitsPushed",date:new Date("2023-04-27T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/6f1ad74b13ef821fbb610aef3957595138adfbb2",actor:"yaacovCR",commits:[{href:"https://github.com/graphql/graphql-spec/commit/6f1ad74b13ef821fbb610aef3957595138adfbb2",headline:"Update spec/Section 6 -- Execution.md",ghUser:"yaacovCR",authorName:"Yaacov Rydzinski"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/04-Apr/06-wg-primary.md",date:new Date("2023-04-06T00:00:00.000Z"),actor:null},{type:"prCreated",date:new Date("2022-11-06T15:51:17.000Z"),href:"https://github.com/graphql/graphql-spec/pull/999",actor:"yaacovCR"},{type:"commitsPushed",date:new Date("2022-11-06T00:00:00.000Z"),href:"https://github.com/graphql/graphql-spec/commit/ec448660da458277fc429dd72fe4bfd0926c4136",actor:"yaacovCR",commits:[{href:"https://github.com/graphql/graphql-spec/commit/ec448660da458277fc429dd72fe4bfd0926c4136",headline:"introduce CollectRootFields and CollectSubfields",ghUser:"yaacovCR",authorName:"Yaacov Rydzinski"}]}],related:"998",shortname:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields",image:"/img/rfc_tracker.png",closedAt:new Date("2024-09-18T19:26:39.000Z"),nextStage:!1},i=void 0,c={id:"999",title:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields",description:"At a glance",source:"@site/rfcs/999.md",sourceDirName:".",slug:"/999",permalink:"/rfcs/999",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{identifier:"999",title:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields",stage:"S",champion:"yaacovCR",prUrl:"https://github.com/graphql/graphql-spec/pull/999",events:[{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/06-Jun/01-wg-primary.md",date:"2023-06-01T00:00:00.000Z",actor:null},{type:"wgNotes",href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-06.md",date:"2023-06",actor:null},{type:"commitsPushed",date:"2023-04-27T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/6f1ad74b13ef821fbb610aef3957595138adfbb2",actor:"yaacovCR",commits:[{href:"https://github.com/graphql/graphql-spec/commit/6f1ad74b13ef821fbb610aef3957595138adfbb2",headline:"Update spec/Section 6 -- Execution.md",ghUser:"yaacovCR",authorName:"Yaacov Rydzinski"}]},{type:"wgAgenda",href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/04-Apr/06-wg-primary.md",date:"2023-04-06T00:00:00.000Z",actor:null},{type:"prCreated",date:"2022-11-06T15:51:17.000Z",href:"https://github.com/graphql/graphql-spec/pull/999",actor:"yaacovCR"},{type:"commitsPushed",date:"2022-11-06T00:00:00.000Z",href:"https://github.com/graphql/graphql-spec/commit/ec448660da458277fc429dd72fe4bfd0926c4136",actor:"yaacovCR",commits:[{href:"https://github.com/graphql/graphql-spec/commit/ec448660da458277fc429dd72fe4bfd0926c4136",headline:"introduce CollectRootFields and CollectSubfields",ghUser:"yaacovCR",authorName:"Yaacov Rydzinski"}]}],related:"998",shortname:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields",image:"/img/rfc_tracker.png",closedAt:"2024-09-18T19:26:39.000Z",nextStage:!1},sidebar:"rfcsSidebar",previous:{title:"incremental delivery with deduplication + concurrent execution",permalink:"/rfcs/1034"},next:{title:"incremental delivery with deduplication + concurrent execution",permalink:"/rfcs/1026"}},s={},o=[{value:"At a glance",id:"at-a-glance",level:2},{value:"Timeline",id:"timeline",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"at-a-glance",children:"At a glance"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Identifier"}),": #999"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Stage"}),": ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/blob/main/CONTRIBUTING.md#stage-x-rejected",children:"RFCX: Closed"})," 2024-09-18T19:26:39Z"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Champion"}),": ",(0,a.jsx)(t.a,{href:"https://github.com/yaacovCR",children:"@yaacovCR"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"PR"}),": ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/999",children:"introduce ExecuteGroupedFieldSet, CollectRootFields and CollectSubfields"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Related"}),":","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/rfcs/998",title:"add spec edits for references / RFC0",children:"#998"})," (add spec edits for references)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"timeline",children:"Timeline"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsxs)(t.strong,{children:["Added to ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/06-Jun/01-wg-primary.md",children:"2023-06-01 WG agenda"})]})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsxs)(t.strong,{children:["Mentioned in ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/notes/2023/2023-06.md",children:"2023-06 WG notes"})]})}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Commit pushed"}),": ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/6f1ad74b13ef821fbb610aef3957595138adfbb2",children:"Update spec/Section 6 -- Execution.md"})," on 2023-04-27 by ",(0,a.jsx)(t.a,{href:"https://github.com/yaacovCR",children:"@yaacovCR"})]}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsxs)(t.strong,{children:["Added to ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-wg/blob/main/agendas/2023/04-Apr/06-wg-primary.md",children:"2023-04-06 WG agenda"})]})}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsxs)(t.strong,{children:[(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/999",children:"Spec PR"})," created"]})," on 2022-11-06 by yaacovCR"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Commit pushed"}),": ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/commit/ec448660da458277fc429dd72fe4bfd0926c4136",children:"introduce CollectRootFields and CollectSubfields"})," on 2022-11-06 by ",(0,a.jsx)(t.a,{href:"https://github.com/yaacovCR",children:"@yaacovCR"})]}),"\n"]}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsx)(t.p,{children:"Rather than merging subSelectionSets of a field set using MergeSelectionSets and then calling CollectFields, this PR introduces CollectSubfields allows the field set's groupedSubfieldSet to be calculated directly."}),"\n",(0,a.jsx)(t.p,{children:"The reference implementation already uses this algorithm so that this change actually aligns the specification to the reference implementation, and is ipso facto non-breaking."}),"\n",(0,a.jsxs)(t.p,{children:["Motivation: reformulating the specification in this manner may be helpful if the specification were ever to be altered such that additional state beyond the current selection set were to be required to calculate the response, i.e. if it were to be required to know the originating selectionSet of a given field within the fieldSet for determining when to communicate a ",(0,a.jsx)(t.a,{href:"https://github.com/graphql/graphql-spec/pull/998#issue-1435084489",children:"reference signal"}),". In such a scenario, it may still be quite possible to merge the set of requested data from a field set's subSelectionSets, but it may not be possible to express that merged data as an equivalent selectionSet."]}),"\n",(0,a.jsx)(t.p,{children:"In particular, currently:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"{\n  a {\n    subfield1\n  }\n  ...ExampleFragment\n}\n\nfragment ExampleFragment on Query {\n  a {\n    subfield2\n  }\n  b\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"For the given set of fields:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"a {\n  subfield1\n}\na {\n  subfield2\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"These can currently be trivially merged as:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"a {\n  subfield1\n  subfield2\n}\n"})}),"\n",(0,a.jsxs)(t.p,{children:["However, the requested information for ",(0,a.jsx)(t.code,{children:"a"})," in:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"{\n  a {\n    subfield1\n  }\n  Ref1 { completed } : ...ExampleFragment\n}\n\nfragment ExampleFragment on Query {\n  a {\n    subfield2\n  }\n  b\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"cannot be contained in a merged selection set under A, because some of those fields will be related to Ref1 and some will not. The requsted information can still be merged, but it cannot be expressed in selection set format."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>i});var a=n(7294);const l={},r=a.createContext(l);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);