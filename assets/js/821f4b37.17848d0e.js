"use strict";(self.webpackChunk_localrepo_benjie_dev=self.webpackChunk_localrepo_benjie_dev||[]).push([[9236],{9330:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var n=o(5893),i=o(1151);const s={},r="Using a bluetooth device in dual boot",l={id:"linux/bluetooth-dual-boot",title:"Using a bluetooth device in dual boot",description:"You have great bluetooth headphones... You have a dual boot Windows/Linux",source:"@site/pages/linux/bluetooth-dual-boot.md",sourceDirName:"linux",slug:"/linux/bluetooth-dual-boot",permalink:"/linux/bluetooth-dual-boot",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Referencing Ancestors",permalink:"/graphql/ancestors"}},a={},c=[{value:"Credits",id:"credits",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"using-a-bluetooth-device-in-dual-boot",children:"Using a bluetooth device in dual boot"}),"\n",(0,n.jsx)(t.p,{children:"You have great bluetooth headphones... You have a dual boot Windows/Linux\nmachine. You don't want to have to keep re-pairing the device each time you\nreboot. Just share the pairing secret!"}),"\n",(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"XX:XX:XX:XX:XX:XX"})," is the MAC address of your bluetooth device\n(headphones/keyboard/mouse/etc)."]}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"YY:YY:YY:YY:YY:YY"})," is the MAC address of your bluetooth dongle/adaptor."]}),(0,n.jsx)(t.p,{children:"These values will need to be replaced throughout this article. Normally you can\nfigure out what they are by following the steps and using auto-complete."})]}),"\n",(0,n.jsx)(t.p,{children:"It's relatively easy:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Pair device in Linux."}),"\n",(0,n.jsx)(t.li,{children:"Reboot to Windows and pair device there. (This will break Linux pair.)"}),"\n",(0,n.jsxs)(t.li,{children:["Extract BINARY registry key from\n",(0,n.jsx)(t.code,{children:"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\BTHPORT\\Parameters\\Keys\\YYYYYYYYYYYY\\XXXXXXXXXXXX"}),",\nyou want it as hex (32 characters (16 bytes), all uppercase)"]}),"\n",(0,n.jsxs)(t.li,{children:["Reboot to Linux, and ",(0,n.jsx)(t.code,{children:"sudo su"}),", then\n",(0,n.jsx)(t.code,{children:"vim /var/lib/bluetooth/YY:YY:YY:YY:YY:YY/XX:XX:XX:XX:XX:XX/info"})," and replace\nthe value in the ",(0,n.jsx)(t.code,{children:"Key=..."})," line with the hex from step 3"]}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"sudo services bluetooth restart"})}),"\n",(0,n.jsx)(t.li,{children:"Hopefully your bluetooth device now automatically connects. Congrats!"}),"\n"]}),"\n",(0,n.jsxs)(t.admonition,{title:"Getting the registry key from Linux",type:"tip",children:[(0,n.jsxs)(t.p,{children:["Step 3 can instead be achieved from Linux if you can mount your Windows\npartition at ",(0,n.jsx)(t.code,{children:"/media/USER/WINDOWS_DRIVE"}),":"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"sudo apt install reglookup\nreglookup -t BINARY -p /ControlSet001/Services/BTHPORT/Parameters/Keys/ /media/USER/WINDOWS_DRIVE/Windows/System32/config/SYSTEM\n"})}),(0,n.jsx)(t.p,{children:"You'll get something like:"}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"PATH,TYPE,VALUE,MTIME\n/ControlSet001/Services/BTHPORT/Parameters/Keys/yyyyyyyyyyyy/xxxxxxxxxxxx,BINARY,SOME_CHARACTERS_HERE,\n"})}),(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.code,{children:"SOME_CHARACTERS_HERE"})," (containing alphanumeric characters,\npercents, tildes, etc) can be decoded with the following JS function:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"const decode = v => v.replace(/%..|./g, t => t[0] === '%' ? t.substring(1) : t.charCodeAt(0).toString(16)).toUpperCase();\ndecode('SOME_CHARACTERS_HERE');\n"})}),(0,n.jsx)(t.p,{children:"Then use this resulting 32 character hex code in step 4."})]}),"\n",(0,n.jsx)(t.h2,{id:"credits",children:"Credits"}),"\n",(0,n.jsx)(t.p,{children:"Thanks to the following resources for providing all this detail already. I'm\nmostly repeating it here for myself for the next time I have to do this!"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.castoriscausa.com/posts/2021/02/28/bluetooth-dual-boot/",children:"https://www.castoriscausa.com/posts/2021/02/28/bluetooth-dual-boot/"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://superuser.com/a/1670739",children:"https://superuser.com/a/1670739"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,t,o)=>{o.d(t,{Z:()=>l,a:()=>r});var n=o(7294);const i={},s=n.createContext(i);function r(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);